---
title: Распространенные параметры рабочего процесса для проверки как услуги Azure Stack | Документация Майкрософт
description: Распространенные параметры рабочего процесса для проверки как услуги Azure Stack
services: azure-stack
documentationcenter: ''
author: mattbriggs
manager: femila
ms.service: azure-stack
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 11/11/2019
ms.author: mabrigg
ms.reviewer: johnhas
ms.lastreviewed: 11/11/2019
ROBOTS: NOINDEX
ms.openlocfilehash: e7df32ea390c236e10d64e7575dcfdd45f01ea3a
ms.sourcegitcommit: 102ef41963b5d2d91336c84f2d6af3fdf2ce11c4
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/12/2019
ms.locfileid: "73955872"
---
# <a name="workflow-common-parameters-for-azure-stack-validation-as-a-service"></a>Распространенные параметры рабочего процесса для проверки как услуги Azure Stack

[!INCLUDE [Azure_Stack_Partner](./includes/azure-stack-partner-appliesto.md)]

Общие параметры включают такие значения, как переменные среды и учетные данные пользователя, необходимые для всех тестов для проверки как услуги (VaaS). Эти значения определяются на уровне рабочего процесса при его создании или изменении. При планировании тестов эти значения передаются в качестве параметров в каждый тест в рамках рабочего процесса.

> [!NOTE]
> Каждый тест определяет собственный набор параметров. На этапе планирования в тест может потребоваться ввести значение независимо от общих параметров или же может быть разрешено переопределить значение общего параметра.

## <a name="environment-parameters"></a>Параметры среды

Параметры среды описывают тестируемую среду Azure Stack. Эти значения необходимо указать, создав и отправив файл сведений о метке Azure Stack для конкретного проверяемого экземпляра.

> [!NOTE]
> В официальном рабочем процессе проверки параметры среды невозможно изменить после создания рабочего процесса.

### <a name="generate-the-stamp-information-file"></a>Создание файла сведений о метке

1. Войдите на компьютер для разработки или любой компьютер, который имеет доступ к среде Azure Stack.
2. В окне PowerShell с повышенными привилегиями выполните следующие команды:

    ```powershell  
    $CloudAdminUser = "<cloud admin username>"
    $CloudAdminPassword = ConvertTo-SecureString "<cloud admin password>" -AsPlainText -Force
    $stampInfoCreds = New-Object System.Management.Automation.PSCredential($CloudAdminUser, $CloudAdminPassword)
    $params = Invoke-RestMethod -Method Get -Uri 'https://ASAppGateway:4443/ServiceTypeId/4dde37cc-6ee0-4d75-9444-7061e156507f/CloudDefinition/GetStampInformation' -Credential $stampInfoCreds
    ConvertTo-Json $params > stampinfoproperties.json
    ```

### <a name="locate-values-in-the-ece-configuration-file"></a>Поиск значений в файле конфигурации ECE

Значения параметров среды можно также вручную найти в **файле конфигурации ECE** по пути `C:\EceStore\403314e1-d945-9558-fad2-42ba21985248\80e0921f-56b5-17d3-29f5-cd41bf862787` на компьютере для разработки.

## <a name="test-parameters"></a>Параметры тестирования

Общие параметры теста включают конфиденциальную информацию, которую нельзя хранить в файлах конфигурации. Их необходимо указывать вручную.

Параметр    | ОПИСАНИЕ
-------------|-----------------
Администратор клиента                            | Администратор клиента Azure Active Directory, учетная запись которого была подготовлена администратором служб в каталоге AAD. Этот пользователь выполняет действия уровня клиента, такие как развертывание шаблонов для настройки ресурсов (виртуальных машин, учетных записей хранения и т. д.), а также рабочие нагрузки. Дополнительные сведения о подготовке учетной записи клиента см. в статье [Добавление нового клиента Azure Stack](../operator/azure-stack-add-new-user-aad.md).
Администратор служб             | Администратор Azure Active Directory клиента каталога Azure AD, указанный во время развертывания Azure Stack. Найдите `AADTenant` в файле конфигурации ECE и выберите значение в элементе `UniqueName`.
Администратор облака               | Учетная запись администратора домена Azure Stack (например, `contoso\cloudadmin`). Найдите `User Role="CloudAdmin"` в файле конфигурации ECE и выберите значение в элементе `UserName`.
Строка подключения системы диагностики          | Подписанный URL-адрес (SAS) для учетной записи службы хранения Azure, в которую будут копироваться журналы диагностики во время выполнения теста. Инструкции по созданию подписанного URL-адреса см. в разделе, посвященном [созданию строки подключения системы диагностики](#generate-the-diagnostics-connection-string). |

> [!IMPORTANT]
> **Строка подключения системы диагностики** должна быть действительной для продолжения.

### <a name="generate-the-diagnostics-connection-string"></a>Создание строки подключения системы диагностики

Строка подключения системы диагностики требуется для хранения журналов диагностики во время выполнения теста. Используйте учетную запись хранения Azure, созданную во время установки (см. раздел о [настройке ресурсов проверки как услуги](azure-stack-vaas-set-up-resources.md)), чтобы создать подписанный URL-адрес для предоставления VaaS доступа к отправке журналов в учетную запись хранения.

1. [!INCLUDE [azure-stack-vaas-sas-step_navigate](includes/azure-stack-vaas-sas-step_navigate.md)]

1. В разделе **Допустимые службы** выберите **Большой двоичный объект**. Снимите все остальные флажки.

1. В разделе **Разрешенные типы ресурсов** выберите **Служба**, **Контейнер** и **Объект**.

1. В разделе **Предоставленные разрешения** выберите **Чтение**, **Запись**, **Перечисление**, **Добавление** и **Создание**. Снимите все остальные флажки.

1. Задайте текущее время в поле **Время начала**, а в поле **Время окончания** — время, отстоящее на три месяца от текущего.

1. [!INCLUDE [azure-stack-vaas-sas-step_generate](includes/azure-stack-vaas-sas-step_generate.md)]

> [!NOTE]  
> Срок действия подписанного URL-адреса истекает, когда закончится заданный при его создании период.  
При планировании тестов убедитесь, что URL-адрес действителен в течение по крайней мере 30 дней, плюс время, необходимое для выполнения теста (рекомендуемый срок — три месяца).

## <a name="next-steps"></a>Дополнительная информация

- Дополнительные сведения см. в статье [Проверка как услуга: основные понятия](azure-stack-vaas-key-concepts.md)