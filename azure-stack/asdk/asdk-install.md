---
title: Установка ASDK
description: Узнайте, как установить Пакет средств разработки Azure Stack (ASDK).
author: justinha
ms.topic: article
ms.date: 05/06/2019
ms.author: justinha
ms.reviewer: misainat
ms.lastreviewed: 02/08/2019
ms.openlocfilehash: 732eef83c6a973a6afbe260e5cca8134dda46504
ms.sourcegitcommit: fd5d217d3a8adeec2f04b74d4728e709a4a95790
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/29/2020
ms.locfileid: "76873793"
---
# <a name="install-the-asdk"></a>Установка ASDK
После [подготовки главного компьютера ASDK](asdk-prepare-host.md) вы можете развернуть Пакет средств разработки Azure Stack в образе CloudBuilder.vhdx, выполнив описанные в этой статье действия.

## <a name="install-the-asdk"></a>Установка ASDK
В этой статье представлены шаги, позволяющие развернуть ASDK с использованием графического интерфейса пользователя (GUI), для получения которого нужно скачать и запустить скрипт PowerShell **asdk-installer.ps1**.

> [!NOTE]
> Пользовательский интерфейс установщика ASDK — это сценарий с открытым кодом на основе WCF и PowerShell.


1. Когда главный компьютер успешно загрузится с образа CloudBuilder.vhdx, войдите с учетными данными администратора, которые вы указали [при подготовке главного компьютера ASDK](asdk-prepare-host.md) для установки ASDK. Они должны совпадать с учетными данными локального администратора узла ASDK.
2. Откройте консоль с повышенными привилегиями и выполните сценарий PowerShell **&lt;буква_диска>\AzureStack_Installer\asdk-installer.ps1**. Имейте ввиду, что теперь сценарий может находиться не только на диске C:\ в образе CloudBuilder.vhdx. Щелкните **Install**(Установить).

    ![Установка ASDK](media/asdk-install/1.PNG) 

3. В раскрывающемся списке **Тип** поставщика удостоверений выберите **Azure China Cloud** (Облако Azure для Китая), **Azure US Government Cloud** (Облако Azure для государственных организаций США), **AD FS** или **Облако Azure**. В разделе **Пароль локального администратора** в поле **Пароль** введите пароль локального администратора (который должен соответствовать текущему паролю локального администратора) и щелкните **Далее**.

    ![Раскрывающийся список типа поставщика удостоверений в ASDK](media/asdk-install/2.PNG) 
  
    Если выбран поставщик удостоверений подписки Azure, необходимо подключение к Интернету, полное имя клиента каталога Azure AD в формате *доменное_имя*.onmicrosoft.com или проверенное имя личного домена Azure AD. Также требуются учетные данные глобального администратора для указанного каталога.

    После развертывания разрешение глобального администратора Azure Active Directory (Azure AD) не требуется. Тем не менее для некоторых операций могут потребоваться учетные данные глобального администратора. Например, поставщик ресурсов устанавливает сценарий или новую функцию, для которой требуется получить разрешение. Можно временно восстановить разрешения глобального администратора или использовать отдельную глобальную учетную запись администратора, которая является владельцем *подписки поставщика по умолчанию*.

    При использовании AD FS в качестве поставщика удостоверений по умолчанию используется служба каталогов с меткой. По умолчанию используется учетная запись azurestackadmin@azurestack.local и пароль, указанный при настройке.

   > [!NOTE]
   > Чтобы получить оптимальные результаты, мы советуем выполнять развертывание с подключением к Интернету, даже если вы хотите использовать среду Azure Stack без доступа к Интернету с поставщиком удостоверений AD FS. Это позволит активировать ознакомительную версию Windows Server 2016, входящую в комплект установки ASDK, во время развертывания.

4. Выберите сетевой адаптер, который будет использоваться для ASDK, и нажмите кнопку **Далее**.

    ![Выбор сетевого адаптера для ASDK](media/asdk-install/3.PNG)

5. На странице **Конфигурация сети** укажите действительный **IP-адрес сервера времени**. Это обязательное поле задает сервер времени, который будет использоваться ASDK. Этот параметр может быть предоставлен в качестве допустимого IP-адреса сервера времени. Имена серверов не поддерживаются.

      > [!TIP]
      > Чтобы найти IP-адрес сервера времени, перейдите на сайт [ntppool.org](https://www.ntppool.org/) или выполните проверку связи с сервером time.windows.com. 

    **При необходимости** вы можете предоставить IP-адрес **DNS-сервера пересылки**. DNS-сервер, созданный в ходе развертывания Azure Stack. Чтобы разрешить компьютерам в решении разрешать имена, расположенные за пределами метки, укажите имеющийся DNS-сервер инфраструктуры. DNS-сервер, расположенный в этой метке, перенаправляет неизвестные запросы на сопоставление имен на этот DNS-сервер.

    ![DNS-сервер пересылки и конфигурация сети в ASDK](media/asdk-install/4.PNG)

6. На странице **Verifying network interface card properties** (Проверка свойств сетевого адаптера) появится индикатор хода выполнения. После завершения проверки щелкните **Далее**.

    ![Проверка свойств сетевого адаптера в ASDK](media/asdk-install/5.PNG)

7. На странице **Сводка** щелкните **Развернуть**, чтобы начать установку ASDK на главном компьютере ASDK.

    ![Сводка по сценарию перед развертыванием в ASDK](media/asdk-install/6.PNG)

    > [!TIP]
    > Здесь также можно скопировать команды установки PowerShell, которые будут использоваться для установки ASDK. Это может оказаться полезным, если вы захотите [повторно развернуть ASDK на главном компьютере с помощью PowerShell](asdk-deploy-powershell.md).

8. Если вы используете развертывание Azure AD, вскоре после начала настройки отобразится запрос на ввод данных учетной записи глобального администратора Azure AD.

9. Процесс развертывания займет несколько часов, в течение которых главный компьютер один раз автоматически перезагрузится. Чтобы отслеживать ход выполнения развертывания, войдите в систему с учетной записью azurestack\AzureStackAdmin после того, как перезагрузится главный компьютер ASDK. После завершения развертывания в окне консоли PowerShell отобразится следующее сообщение. **Завершено: Действие "Развертывание"** . 
    > [!IMPORTANT]
    > Если вы вошли в систему от имени локального администратора, после присоединения компьютера к домену azurestack ход выполнения развертывания отображаться не будет. В этом случае повторное развертывание выполнять не нужно. Чтобы проверить выполнение процесса, просто войдите в систему как azurestack\AzureStackAdmin.

    ![Успешное развертывание ASDK](media/asdk-install/7.PNG)

Поздравляем, вы успешно установили ASDK!

Если развертывание по какой-либо причине завершится неудачей, вы можете выполнить [повторное развертывание](asdk-redeploy.md) с нуля или перезапустить текущее развертывание с последнего успешного шага, выполнив следующие команды PowerShell. Команды можно выполнять в том же окне PowerShell с повышенными привилегиями.

  ```powershell
  cd C:\CloudDeployment\Setup
  .\InstallAzureStackPOC.ps1 -Rerun
  ```

## <a name="next-steps"></a>Дальнейшие действия
[Настройка после развертывания](asdk-post-deploy.md)
