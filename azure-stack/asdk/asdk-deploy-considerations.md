---
title: Необходимые компоненты для развертывания Пакета средств разработки Azure Stack (ASDK) | Документация Майкрософт
description: Просмотрите требования к среде и оборудованию для Пакета средств разработки Azure Stack (ASDK).
services: azure-stack
documentationcenter: ''
author: justinha
manager: femila
editor: ''
ms.assetid: ''
ms.service: azure-stack
ms.workload: na
pms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/13/2019
ms.author: justinha
ms.reviewer: misainat
ms.lastreviewed: 05/13/2019
ms.openlocfilehash: e7006d599a597f66b8b1c76dac55f26cebacdacd
ms.sourcegitcommit: 797dbacd1c6b8479d8c9189a939a13709228d816
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/28/2019
ms.locfileid: "66267178"
---
# <a name="azure-stack-deployment-planning-considerations"></a>Рекомендации по планированию развертывания Azure Stack

Перед развертыванием пакета средств разработки Azure Stack (ASDK) убедитесь, что главный компьютер соответствует требованиям, описанным в этой статье.

## <a name="hardware"></a>Оборудование

| Компонент | Минимальная | Рекомендуется |
| --- | --- | --- |
| Диски. Операционная система |1 диск операционной системы с минимальным объемом 200 ГБ для системного раздела (SSD или жесткий диск). |1 диск операционной системы с минимальным объемом 200 ГБ для системного раздела (SSD или жесткий диск). |
| Диски. Общие данные пакета SDK<sup>*</sup>  |4 диска. Каждый емкостью не меньше 240 ГБ (SSD или жесткие диски). Используются все доступные диски. |4 диска. Каждый емкостью не меньше 400 ГБ (SSD или жесткие диски). Используются все доступные диски. |
| Вычисления. ЦП |Два гнезда. 12 физических ядер (всего). |Два гнезда. 20 физических ядер (всего). |
| Вычисления. Память |192 ГБ ОЗУ |256 ГБ ОЗУ |
| Вычисления. BIOS |С поддержкой Hyper-V (с поддержкой SLAT). |С поддержкой Hyper-V (с поддержкой SLAT). |
| Сеть. Сетевая карта |Сертификация Windows Server 2012 R2. Специальные функции не требуются |Сертификация Windows Server 2012 R2. Специальные функции не требуются |
| Информация о сертификации на эмблеме оборудования |[Сертифицировано для Windows Server 2012 R2](https://windowsservercatalog.com/results.aspx?&chtext=&cstext=&csttext=&chbtext=&bCatID=1333&cpID=0&avc=79&ava=0&avq=0&OR=1&PGS=25&ready=0) |[Сертифицировано для Windows Server 2016](https://windowsservercatalog.com/results.aspx?&chtext=&cstext=&csttext=&chbtext=&bCatID=1333&cpID=0&avc=79&ava=0&avq=0&OR=1&PGS=25&ready=0) |

<sup>*</sup> Вам потребуется объем памяти больше рекомендуемого, если вы планируете добавлять большое количество [элементов Marketplace](../operator/azure-stack-create-and-publish-marketplace-item.md) из Azure.

### <a name="hardware-notes"></a>Примечания по оборудованию

**Конфигурация дисков данных**: все диски данных должны быть одного типа (SAS, SATA или NVMe) и уровня производительности. При использовании дисков SAS они должны быть подключены через один путь (поддержка MPIO не обеспечивается).

**Параметры конфигурации адаптера шины**

* Простой адаптер шины (рекомендуется)
* Адаптер шины RAID. Адаптер следует настроить в режиме сквозной передачи.
* Адаптер шины RAID. Диски следует настроить как один диск с поддержкой массива RAID-0.

**Поддерживаемые сочетания шины и типа носителя**

* Жесткий диск SATA
* Жесткий диск SAS
* Жесткий диск RAID
* SSD RAID (если тип носителя не указан или неизвестен<sup>*</sup>)
* SSD SATA + жесткий диск SATA
* SSD SAS + жесткий диск SAS
* NVMe

<sup>*</sup> RAID-контроллеры без поддержки режима сквозной передачи не распознают типы носителей. Такие контроллеры помечают жесткий диск и диск SSD как неопределенный. В этом случае SSD будет использоваться в качестве постоянного хранилища, а не кэша для устройств. Следовательно, можно развернуть комплект разработки на этих SSD.

**Примеры HBA**: LSI 9207-8i, LSI 9300-8i или LSI-9265-8i в сквозном режиме.

Доступны примеры конфигураций OEM.

### <a name="storage-resiliency-for-the-asdk"></a>Устойчивость хранилища для ASDK

ASDK — это система с одним узлом, не предназначенная для проверки избыточности интегрированной системы Azure Stack в рабочей среде. Но вы можете повысить уровень базовой избыточности хранилища в ASDK, используя оптимальное сочетание HDD и дисков SSD. Вы можете развернуть конфигурацию с двусторонним зеркалированием, аналогичную RAID 1, а не простую конфигурацию устойчивости, аналогичную RAID 0. Базовая конфигурация локальных дисковых пространств должна включать достаточное число дисков определенного типа и емкости.

Чтобы использовать конфигурацию двустороннего зеркалирования для обеспечения устойчивости хранилища:

- Емкость HDD в системе должна быть более 2 ТБ.
- Если в системе ASDK нет дисков SSD, вам потребуется использовать не менее восьми HDD для конфигурации двустороннего зеркалирования.
- Если в вашей системе ASDK есть и диски SSD, и диски HDD, вам потребуется не менее пяти HDD. Но мы рекомендуем установить шесть. Если вы будете использовать шесть HDD, также рекомендуется установить в системе по меньшей мере три соответствующих диска SSD, чтобы у вас был один диск кэша (SSD) для двух дисков емкости (HDD).

Примеры конфигураций с двусторонним зеркалированием:

- восемь HDD;
- три диска SSD и шесть HDD;
- четыре диска SSD и восемь HDD.

## <a name="operating-system"></a>Операционная система
|  | **Требования** |
| --- | --- |
| **Версия ОС** |Windows Server 2016 или более поздней версии. Версия операционной системы не важна до начала развертывания, так как система главного компьютера будет загружена на виртуальный жесткий диск, устанавливаемый вместе с Azure Stack. Операционная система и все необходимые исправления уже интегрированы в образ. Не используйте ключи для активации экземпляров Windows Server, используемых в комплекте разработки. |

> [!TIP]
> После установки операционной системы вы можете воспользоваться [средством проверки готовности к развертыванию Azure Stack](https://gallery.technet.microsoft.com/Deployment-Checker-for-50e0f51b), чтобы проверить, соответствует ли оборудование всем требованиям.

## <a name="account-requirements"></a>Требования к учетной записи
Как правило, комплект разработки развертывается с подключением к Интернету, чтобы подключиться к Microsoft Azure. В этом случае, чтобы развернуть комплект разработки, необходимо настроить учетную запись Azure Active Directory (Azure AD).

Если в среде нет подключения к Интернету или вы не хотите использовать Azure AD, Azure Stack можно развернуть с помощью служб федерации Active Directory (AD FS). Комплект разработки содержит собственные экземпляры AD FS и доменных служб Active Directory. Если вы используете этот вариант, вам не нужно настраивать учетные записи перед развертыванием.

> [!NOTE]
> При развертывании с помощью AD FS необходимо повторно развернуть Azure Stack, чтобы перейти в Azure AD.

### <a name="azure-active-directory-accounts"></a>Учетные записи Azure Active Directory
Чтобы развернуть Azure Stack с учетной записью Azure AD, необходимо подготовить эту учетную запись, прежде чем запустить сценарий PowerShell для развертывания. Для этой учетной записи назначаются права глобального администратора в клиенте Azure AD. Она используется для подготовки и делегирования приложений и субъектов-служб во всех службах Azure Stack, взаимодействующих с Azure Active Directory и API Graph. Для нее также по умолчанию назначается роль владельца подписки поставщика, что можно изменить. Вы можете войти на портал системного администрирования Azure Stack, используя эту учетную запись.

1. Создайте учетную запись Azure AD с правами администратора каталога по крайней мере для одного клиента Azure AD. Если у вас уже есть такая учетная запись, вы можете использовать ее. В противном случае ее можно создать бесплатно на странице [https://azure.microsoft.com/free/](https://azure.microsoft.com/free/) (в Китае используйте адрес <https://go.microsoft.com/fwlink/?LinkID=717821>). Если вы планируете позже [зарегистрировать Azure Stack в Azure](asdk-register.md), вам также потребуется указать подписку в созданной учетной записи.
   
    Сохраните эти учетные данные, чтобы использовать их от имени администратора служб. Используя эту учетную запись, можно настраивать облака ресурсов, учетные записи пользователей, планы клиентов, квоты и расценки, а также управлять ими. На портале они могут создавать облака веб-сайтов, частные облака виртуальных машин и планы, а также управлять подписками пользователей.
1. Создайте в Azure AD по крайней мере одну тестовую учетную запись пользователя, чтобы входить в пакет SDK в качестве клиента.
   
   | **Учетная запись Azure Active Directory** | **Поддерживается?** |
   | --- | --- |
   | Рабочая или учебная учетная запись с действительной глобальной подпиской Azure |Yes |
   | Учетная запись Майкрософт с действительной глобальной подпиской Azure |Yes |
   | Рабочая или учебная учетная запись с действительной подпиской Azure для организаций Китая |Yes |
   | Рабочая или учебная учетная запись с действительной подпиской Azure для государственных организаций США |Yes |

После развертывания разрешение глобального администратора Azure Active Directory не требуется. Тем не менее для некоторых операций могут потребоваться учетные данные глобального администратора. Например, поставщик ресурсов устанавливает сценарий или новую функцию, для которой требуется получить разрешение. Можно временно восстановить разрешения глобального администратора или использовать отдельную глобальную учетную запись администратора, который является владельцем *подписки поставщика по умолчанию*.

## <a name="network"></a>Network
### <a name="switch"></a>Switch
Один порт коммутатора для компьютера, где будет установлен комплект разработки.  

Компьютер для комплекта разработки поддерживает подключение к порту доступа или магистральному порту коммутатора. Специальные функции на коммутаторе не требуются. Если вы используете магистральный порт или необходимо настроить идентификатор виртуальной сети (VLAN ID), следует указать VLAN ID в качестве параметра развертывания.

### <a name="subnet"></a>Подсеть
Не подключайте компьютер для комплекта разработки к следующим подсетям:

* 192.168.200.0/24
* 192.168.100.0/27
* 192.168.101.0/26
* 192.168.102.0/24
* 192.168.103.0/25
* 192.168.104.0/25

Эти подсети зарезервированы для внутренних сетей в среде комплекта разработки.

### <a name="ipv4ipv6"></a>IPv4 или IPv6
Поддерживается только протокол IPv4. Создать сети IPv6 нельзя.

### <a name="dhcp"></a>DHCP
Убедитесь, что в сети, к которой подключается сетевая карта, имеется DHCP-сервер. Если протокол DHCP недоступен, помимо сети, используемой узлом, необходимо подготовить дополнительную сеть со статическим IPv4-адресом. Этот IP-адрес и шлюз необходимо указать в качестве параметра развертывания.

### <a name="internet-access"></a>Доступ к Интернету
Для Azure Stack требуется непосредственное подключение к Интернету или через прозрачный прокси-сервер. Azure Stack не поддерживает конфигурацию веб-прокси для включения доступа к Интернету. У IP-адреса узла и нового IP-адреса, назначенного AzS-BGPNAT01 (это может быть назначенный с помощью DHCP или статический IP-адрес), должен быть доступ к Интернету. В доменах graph.windows.net и login.microsoftonline.com используются порты 80 и 443.


## <a name="next-steps"></a>Дополнительная информация

- [Скачайте пакет развертывания ASDK](asdk-download.md)
- Дополнительные сведения о локальных дисковых пространствах см. в [этом обзоре](https://docs.microsoft.com/windows-server/storage/storage-spaces/storage-spaces-direct-overview).

