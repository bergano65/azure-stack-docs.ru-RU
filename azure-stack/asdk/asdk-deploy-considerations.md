---
title: Требования и рекомендации для ASDK
description: Узнайте, какие требования к оборудованию, программному обеспечению и среде установлены для Пакета средств разработки Azure Stack (ASDK).
author: justinha
ms.topic: article
ms.date: 05/13/2019
ms.author: justinha
ms.reviewer: misainat
ms.lastreviewed: 05/13/2019
ms.openlocfilehash: 9d466060f46f924441a8226c2f53ff3889b37429
ms.sourcegitcommit: fd5d217d3a8adeec2f04b74d4728e709a4a95790
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/29/2020
ms.locfileid: "76873896"
---
# <a name="asdk-requirements-and-considerations"></a>Требования и рекомендации для ASDK

Перед развертыванием Пакета средств разработки Azure Stack (ASDK) убедитесь, что главный компьютер ASDK соответствует требованиям, описанным в этой статье.

## <a name="hardware"></a>Оборудование

| Компонент | Минимальные | Рекомендуемая |
| --- | --- | --- |
| Диски. Операционная система |1 диск операционной системы с минимальным объемом 200 ГБ для системного раздела (SSD или жесткий диск). |1 диск операционной системы с минимальным объемом 200 ГБ для системного раздела (SSD или жесткий диск). |
| Диски. Общие данные пакета SDK<sup>*</sup>  |4 диска. Каждый емкостью не меньше 240 ГБ (SSD или жесткие диски). Используются все доступные диски. |4 диска. Каждый емкостью не меньше 400 ГБ (SSD или жесткие диски). Используются все доступные диски. |
| Вычисления. ЦП |Два гнезда. 16 физических ядер (всего). |Два гнезда. 20 физических ядер (всего). |
| Вычисления. Память |192 ГБ ОЗУ. |256 ГБ ОЗУ. |
| Вычисления. BIOS |С поддержкой Hyper-V (с поддержкой SLAT). |С поддержкой Hyper-V (с поддержкой SLAT). |
| Сеть. Сетевая карта |Сертификация Windows Server 2012 R2. Специальные функции не требуются. | Сертификация Windows Server 2012 R2. Специальные функции не требуются. |
| Информация о сертификации на эмблеме оборудования |[Сертифицировано для Windows Server 2012 R2](https://windowsservercatalog.com/results.aspx?&chtext=&cstext=&csttext=&chbtext=&bCatID=1333&cpID=0&avc=79&ava=0&avq=0&OR=1&PGS=25&ready=0). |[Сертифицировано для Windows Server 2016](https://windowsservercatalog.com/results.aspx?&chtext=&cstext=&csttext=&chbtext=&bCatID=1333&cpID=0&avc=79&ava=0&avq=0&OR=1&PGS=25&ready=0). |

<sup>*</sup> Вам потребуется объем памяти больше рекомендуемого, если вы планируете добавлять большое количество [элементов Marketplace](../operator/azure-stack-create-and-publish-marketplace-item.md) из Azure.

### <a name="hardware-notes"></a>Примечания по оборудованию

**Конфигурация дисков данных**: все диски данных должны быть одного типа (SAS, SATA или NVMe) и уровня производительности. При использовании дисков SAS они должны быть подключены через один путь (поддержка MPIO не обеспечивается).

**Параметры конфигурации адаптера шины**

* Простой адаптер шины (рекомендуется).
* Адаптер шины RAID. Адаптер следует настроить в сквозном режиме.
* Адаптер шины RAID. Диски следует настроить как один диск с поддержкой массива RAID-0.

**Поддерживаемые сочетания шины и типа носителя**

* Жесткий диск SATA
* Жесткий диск SAS
* Жесткий диск RAID
* SSD RAID (если тип носителя не указан или неизвестен<sup>*</sup>)
* SSD SATA + жесткий диск SATA
* SSD SAS + жесткий диск SAS
* NVMe

<sup>*</sup> RAID-контроллеры без поддержки режима сквозной передачи не распознают типы носителей. Такие контроллеры помечают жесткий диск и диск SSD как неопределенный. В этом случае SSD будет использоваться в качестве постоянного хранилища, а не кэша для устройств. Следовательно, можно развернуть ASDK на этих дисках SSD.

**Примеры HBA**: LSI 9207-8i, LSI 9300-8i или LSI-9265-8i в сквозном режиме.

Доступны примеры конфигураций OEM.

### <a name="storage-resiliency-for-the-asdk"></a>Устойчивость хранилища для ASDK

ASDK — это система с одним узлом, не предназначенная для проверки избыточности интегрированной системы Azure Stack в рабочей среде. Но вы можете повысить уровень базовой избыточности хранилища в ASDK, используя оптимальное сочетание HDD и дисков SSD. Вы можете развернуть конфигурацию с двусторонним зеркалированием, аналогичную RAID 1, а не простую конфигурацию устойчивости, аналогичную RAID 0. Базовая конфигурация локальных дисковых пространств должна включать достаточное число дисков определенного типа и емкости.

Чтобы использовать конфигурацию двустороннего зеркалирования для обеспечения устойчивости хранилища:

- Емкость HDD в системе должна быть более 2 ТБ.
- Если в системе ASDK нет дисков SSD, вам потребуется использовать не менее восьми HDD для конфигурации двустороннего зеркалирования.
- Если в вашей системе ASDK есть и диски SSD, и диски HDD, вам потребуется не менее пяти HDD. Но мы рекомендуем установить шесть. Если вы будете использовать шесть HDD, рекомендуется также установить в системе по меньшей мере три соответствующих диска SSD, чтобы у вас был один диск кэша (SSD) для обслуживания двух дисков емкости (HDD).

Примеры конфигураций с двусторонним зеркалированием:

- восемь HDD;
- три диска SSD и шесть HDD;
- четыре диска SSD и восемь HDD.

## <a name="operating-system"></a>Операционная система
|  | **Требования** |
| --- | --- |
| **Версия ОС** |Windows Server 2016 или более поздней версии. Версия операционной системы не важна до начала развертывания, так как система главного компьютера будет загружена на виртуальный жесткий диск, устанавливаемый вместе с Azure Stack. Операционная система и все необходимые исправления уже интегрированы в образ. Не используйте ключи для активации экземпляров Windows Server, используемых в ASDK. |

> [!TIP]
> После установки операционной системы вы можете воспользоваться [средством проверки готовности к развертыванию Azure Stack](https://gallery.technet.microsoft.com/Deployment-Checker-for-50e0f51b), чтобы проверить, соответствует ли оборудование всем требованиям.

## <a name="account-requirements"></a>Требования к учетной записи
Как правило, ASDK развертывается с подключением к Интернету, чтобы подключиться к Microsoft Azure. В этом случае, чтобы развернуть ASDK, необходимо настроить учетную запись Azure Active Directory (Azure AD).

Если в вашей среде нет подключения к Интернету или вы не хотите использовать Azure AD, Azure Stack можно развернуть с помощью служб федерации Active Directory (AD FS). ASDK содержит собственные экземпляры AD FS и доменных служб Active Directory. Если вы используете этот вариант, вам не нужно настраивать учетные записи перед развертыванием.

> [!NOTE]
> При развертывании с помощью AD FS необходимо повторно развернуть Azure Stack, чтобы перейти в Azure AD.

### <a name="azure-active-directory-accounts"></a>Учетные записи Azure Active Directory
Чтобы развернуть Azure Stack с учетной записью Azure AD, необходимо подготовить эту учетную запись, прежде чем запустить сценарий PowerShell для развертывания. Для этой учетной записи назначаются права глобального администратора в клиенте Azure AD. Она используется для подготовки и делегирования приложений и субъектов-служб во всех службах Azure Stack, взаимодействующих с Azure AD и API Graph. Для нее также по умолчанию назначается роль владельца подписки поставщика, что можно изменить. Вы можете войти на портал системного администрирования Azure Stack, используя эту учетную запись.

1. Создайте учетную запись Azure AD с правами администратора каталога по крайней мере для одного каталога Azure AD. Если у вас уже есть такая учетная запись, вы можете использовать ее. В противном случае ее можно создать бесплатно на странице [https://azure.microsoft.com/free/](https://azure.microsoft.com/free/) (в Китае используйте адрес <https://go.microsoft.com/fwlink/?LinkID=717821> ). Если вы планируете позже [зарегистрировать Azure Stack в Azure](asdk-register.md), вам также потребуется указать подписку в созданной учетной записи.
   
    Сохраните эти учетные данные, чтобы использовать для администратора служб. Используя эту учетную запись, можно настраивать облака ресурсов, учетные записи пользователей, планы клиентов, квоты и расценки, а также управлять ими. На портале они могут создавать облака веб-сайтов, частные облака виртуальных машин и планы, а также управлять подписками пользователей.
1. Создайте в Azure AD по крайней мере одну тестовую учетную запись пользователя, чтобы входить в ASDK в качестве клиента.
   
   | **Учетная запись Azure Active Directory** | **Поддерживается?** |
   | --- | --- |
   | Рабочая или учебная учетная запись с действительной глобальной подпиской Azure |Да |
   | Учетная запись Майкрософт с действительной глобальной подпиской Azure |Да |
   | Рабочая или учебная учетная запись с действительной подпиской Azure для организаций Китая |Да |
   | Рабочая или учебная учетная запись с действительной подпиской Azure для US Gov организаций |Да |

После развертывания разрешение глобального администратора Azure AD не требуется. Тем не менее для некоторых операций могут потребоваться учетные данные глобального администратора. К примерам таких операций можно отнести сценарий установки от поставщика ресурсов или новую функцию, для которой требуется получить разрешение. Можно временно восстановить разрешения глобального администратора или использовать отдельную глобальную учетную запись администратора, которая является владельцем *подписки поставщика по умолчанию*.

## <a name="network"></a>Сеть
### <a name="switch"></a>Параметр
Один порт коммутатора для компьютера ASDK.  

Компьютер ASDK поддерживает подключение к порту доступа или магистральному порту коммутатора. Специальные функции на коммутаторе не требуются. Если вы используете магистральный порт или необходимо настроить идентификатор виртуальной сети (VLAN ID), следует указать VLAN ID в качестве параметра развертывания.

### <a name="subnet"></a>Подсеть
Не подключайте компьютер ASDK к следующим подсетям:

* 192.168.200.0/24
* 192.168.100.0/27
* 192.168.101.0/26
* 192.168.102.0/24
* 192.168.103.0/25
* 192.168.104.0/25

Они зарезервированы для внутренних сетей в среде ASDK.

### <a name="ipv4ipv6"></a>IPv4 или IPv6
Поддерживается только протокол IPv4. Создать сети IPv6 невозможно.

### <a name="dhcp"></a>DHCP
Убедитесь, что в сети, к которой подключается сетевой адаптер, имеется DHCP-сервер. Если протокол DHCP недоступен, помимо сети, используемой узлом, необходимо подготовить дополнительную сеть со статическим IPv4-адресом. Этот IP-адрес и шлюз необходимо указать в качестве параметра развертывания.

### <a name="internet-access"></a>Доступ к Интернету
Для Azure Stack требуется прямое подключение к Интернету или подключение через прозрачный прокси-сервер. Azure Stack не поддерживает конфигурацию веб-прокси для включения доступа к Интернету. У IP-адреса узла и нового IP-адреса, назначенного AzS-BGPNAT01 (это может быть назначенный с помощью DHCP или статический IP-адрес), должен быть доступ к Интернету. В доменах graph.windows.net и login.microsoftonline.com используются порты 80 и 443.


## <a name="next-steps"></a>Дальнейшие действия

- [Скачайте пакет развертывания ASDK](asdk-download.md).
- Дополнительные сведения о локальных дисковых пространствах см. в [этом обзоре](https://docs.microsoft.com/windows-server/storage/storage-spaces/storage-spaces-direct-overview).

