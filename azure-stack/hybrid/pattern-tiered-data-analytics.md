---
title: Шаблон для реализации решения распределения данных по уровням для аналитики с помощью Azure и Azure Stack Hub.
description: Узнайте, как с помощью служб Azure и Azure Stack Hub реализовать решение распределения данных по уровням в гибридном облаке.
author: BryanLa
ms.topic: article
ms.date: 11/05/2019
ms.author: bryanla
ms.reviewer: anajod
ms.lastreviewed: 11/05/2019
ms.openlocfilehash: 5c19c6b407d4d05c3a4da26078050668d023c86a
ms.sourcegitcommit: 4ac711ec37c6653c71b126d09c1f93ec4215a489
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/27/2020
ms.locfileid: "77700754"
---
# <a name="tiered-data-for-analytics-pattern"></a>Шаблон распределения данных по уровням для аналитики

В этом шаблоне показано, как с помощью Azure Stack Hub и Azure размещать, анализировать, обрабатывать, очищать и хранить данные в нескольких локальных и облачных расположениях.

## <a name="context-and-problem"></a>Контекст и проблема

Одна из проблем, с которыми сталкиваются корпоративные организации в сфере современных технологий, связана с обеспечением безопасного хранения, обработки и анализа данных. С этим связаны такие аспекты:
- содержимое данных;
- location
- требования к безопасности и конфиденциальности;
- права доступа;
- обслуживание;
- хранение хранилищ.

Azure, в сочетании с Azure Stack Hub, устраняет проблемы с данными и предлагает бюджетные решения. Это решение лучше всего подходит распределенной производственной или логистической компании. 

Решение основано на следующем сценарии:
- Имеется крупная производственная организация с несколькими филиалами.
- Требуется быстрое и безопасное хранение, обработка и распределение данных между глобальными удаленными расположениями и центральным офисом. 
- Действия сотрудников и оборудования, сведения об оборудовании и данные бизнес-отчетности, которые должны оставаться безопасными. Данные должны быть распределены соответствующим образом и отвечать региональным политикам соответствия и отраслевым стандартам.

## <a name="solution"></a>Решение

Использование локальных и общедоступных облачных сред соответствует требованиям предприятий с несколькими филиалами или офисами. Azure Stack Hub предлагает быстрое, безопасное и гибкое решение для сбора, обработки, хранения и распространения локально и удаленно хранимых данных. Особенно в тех случаях, когда требования к безопасности и конфиденциальности, а также нормативные и корпоративные требования отличаются в разных расположениях и у различных пользователей. 

![архитектура решения распределения данных по уровням для аналитики](media/pattern-tiered-data-analytics/solution-architecture.png)

## <a name="components"></a>Components

Это решение использует следующие компоненты.

| Уровень | Компонент | Описание |
|----------|-----------|-------------|
| Azure | Память | Учетная запись [службы хранилища Azure](/azure/storage/) предоставляет конечную точку потребления стерильных данных. Служба хранилища Azure — это облачное решение от Майкрософт, позволяющее реализовать современные сценарии хранения данных. В службе хранилища Azure предоставляется хранилище с высокой масштабируемостью для объектов данных и служба файловой системы для облака. Она также предоставляет хранилище сообщений для надежного обмена сообщениями и хранилище NoSQL. |
| Azure Stack Hub | Память | Учетная запись [службы хранилища Azure Stack Hub](/azure-stack/user/azure-stack-storage-overview) используется для нескольких служб.<br>- **Хранилище BLOB-объектов** для хранения необработанных данных. В хранилище BLOB-объектов могут храниться текстовые или двоичные данные любого типа, например документы, файлы мультимедиа или установщики приложений. Все большие двоичные объекты организованы в контейнеры. Контейнеры предоставляют удобный способ назначения политик безопасности группам объектов. Учетная запись хранения может содержать любое количество контейнеров, а контейнер может содержать любое количество больших двоичных объектов. Емкость учетной записи хранения ограничена 500 ТБ.<br>- **Хранилище BLOB-объектов** для архива данных. Недорогое хранилище для архивирования холодных данных дает определенные преимущества. К примерам холодных данных относятся резервные копии, мультимедийное содержимое, данные научных исследований, сведения о соответствии требованиям и архивные данные. Как правило, все данные, к которым редко осуществляется доступ, считаются многоуровневыми данными холодного хранилища на основе таких атрибутов, как частота доступа и срок хранения. Доступ к данным клиента осуществляется нечасто, но для них требуется такая же задержка и производительность, что и для горячих данных.<br>- **Хранилище очередей** для хранилища обработанных данных. Хранилище очередей — это служба, обеспечивающая обмен сообщениями в облаке между компонентами приложения. При разработке приложений для масштабирования компоненты приложения часто не связаны между собой, так что они могут масштабироваться независимо друг от друга. Хранилище очередей обеспечивает асинхронный обмен сообщениями для взаимодействия между компонентами приложения,  независимо от того, где они выполняются — в облаке, на рабочем столе, на локальном сервере или на мобильном устройстве. Хранилище очередей также поддерживает управление асинхронными задачами и создание рабочих процессов. |
| | Функции Azure | Служба [Функции Azure](/azure/azure-functions/) предоставляется [Службой приложений Azure в поставщике ресурсов Azure Stack Hub](/azure-stack/operator/azure-stack-app-service-overview). Служба "Функции Azure" позволяет выполнять код в простой, бессерверной среде и выполнять скрипт или код в ответ на различные события. Служба "Функции Azure" масштабируется для удовлетворения спроса. При этом нет необходимости создавать виртуальную машину или публиковать веб-приложение с использованием выбранного языка программирования. Функции используются в решении для следующих задач:<br>- **Принятие данных**.<br>- **Стерилизация данных**. Активируемые вручную функции могут выполнять запланированную обработку, очистку и архивацию данных. К примерам относятся ночные очистки списка клиентов и обработка ежемесячных отчетов.|

## <a name="issues-and-considerations"></a>Проблемы и рекомендации

Во время выбора варианта реализации этого решения необходимо учитывать приведенные ниже моменты.

### <a name="scalability"></a>Масштабируемость 

Функции Azure и решения для хранения данных масштабируются в соответствии с требованиями к объему и обработке данных. Сведения о масштабируемости Azure и целевые показатели см. в [документации по масштабируемости службы хранилища Azure](/azure/storage/common/storage-scalability-targets). 

### <a name="availability"></a>Доступность

Хранение данных — основной фактор доступности для этого шаблона. Для обработки и распространения больших объемов данных необходимо подключение с помощью высокоскоростных каналов. 

### <a name="manageability"></a>Управляемость

Управляемость этого решения зависит от используемых средств разработки и применения системы управления версиями. 

## <a name="next-steps"></a>Дальнейшие действия

Дополнительные сведения по темам, описанным в этой статье:
- Ознакомьтесь с документацией по [службе хранилища Azure](/azure/storage/) и [Функциям Azure](/azure/azure-functions/). Этот шаблон активно использует учетные записи службы хранилища Azure и Функции Azure в Azure и Azure Stack Hub.
- Рекомендации по проектированию гибридных приложений и ответы на дополнительные вопросы см. в [этой статье](overview-app-design-considerations.md).
- См. сведения о [полном семействе продуктов и решений Azure Stack](/azure-stack).

Когда вы будете готовы протестировать пример решения, продолжите работу с руководством по развертыванию [решения распределения данных по уровням для аналитики](https://aka.ms/tiereddatadeploy). В этом руководстве содержатся пошаговые инструкции по развертыванию и тестированию компонентов.