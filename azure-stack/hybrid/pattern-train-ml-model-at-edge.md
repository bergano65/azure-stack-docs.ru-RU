---
title: Шаблон для обучения модели Машинного обучения (ML) на пограничном устройстве с использованием Azure и Azure Stack Hub.
description: Узнайте, как использовать службы Azure и Azure Stack Hub для обучения модели ML на пограничном устройстве.
author: BryanLa
ms.service: azure-stack
ms.topic: article
ms.date: 11/05/2019
ms.author: bryanla
ms.reviewer: anajod
ms.lastreviewed: 11/05/2019
ms.openlocfilehash: 3f16b543751ac4bee94cc05045c03de7230f9a3c
ms.sourcegitcommit: b96a0b151b9c0d3eea59e7c2d39119a913782624
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2020
ms.locfileid: "75717983"
---
# <a name="train-machine-learning-ml-model-at-the-edge-pattern"></a>Шаблон обучения модели Машинного обучения (ML) на пограничных устройствах

Создавайте переносимые модели ML на основе данных, которые существуют только в локальной среде.

## <a name="context-and-problem"></a>Контекст и проблема

Многим организациям хотелось бы получить доступ к полезным сведениям из локальных или устаревших данных с помощью средств, понятных для их специалистов по обработке и анализу данных. Служба [Машинное обучение Azure](/azure/machine-learning/) предоставляет облачные средства для обучения, настройки и развертывания моделей машинного обучения и глубокого обучения.  

Но некоторые данные слишком велики для отправки в облако или их нельзя отправить в облако из-за нормативных требований. С помощью этого шаблона специалисты по обработке и анализу данных могут использовать Машинное обучение Azure для обучения моделей на основе локальных данных и вычислений. 

## <a name="solution"></a>Решение

В шаблоне обучения на пограничном устройстве используется виртуальная машина, работающая в Azure Stack Hub. Виртуальная машина регистрируется в качестве целевого объекта вычислений в Azure ML, что обеспечивает ей доступ к данным, доступным только в локальной среде. В этом случае данные хранятся в хранилище BLOB-объектов Azure Stack Hub. 

После обучения модели она регистрируется в Azure ML, помещается в контейнер и добавляется в Реестр контейнеров Azure для развертывания. Для этой итерации шаблона виртуальная машина для обучения Azure Stack Hub должна быть доступна через общедоступный Интернет. 

[![Обучение модели ML в пограничной архитектуре](media/pattern-train-ml-model-at-edge/solution-architecture.png)](media/pattern-train-ml-model-at-edge/solution-architecture.png)

Решение работает следующим образом: 

1. Виртуальная машина Azure Stack Hub развертывается и регистрируется в качестве целевого объекта вычислений для Azure ML.
2. В Azure ML создается эксперимент, в котором в качестве целевого объекта вычислений используется виртуальная машина Azure Stack Hub.
3. Как только модель будет обучена, она будет зарегистрирована и помещена в контейнер.
4. Теперь модель можно развернуть в расположениях, которые находятся в локальной среде или в облаке.

## <a name="components"></a>Components

Это решение использует следующие компоненты.

| Уровень | Компонент | Description |
|----------|-----------|-------------|
| Azure | Машинное обучение Azure | [Машинное обучение Azure](/azure/machine-learning/) координирует обучение модели ML. |
| | Реестр контейнеров Azure | Azure ML упаковывает модель в контейнер и сохраняет ее в [Реестре контейнеров Azure](/azure/container-registry/) для развертывания.|
| Azure Stack Hub | Служба приложений | [Azure Stack Hub со Службой приложений](/azure-stack/operator/azure-stack-app-service-overview) предоставляет основу для компонентов на пограничном устройстве. |
| | Службы вычислений | Для обучения модели ML используется виртуальная машина Azure Stack Hub под управлением Ubuntu с Docker. |
| | Память | Частные данные могут размещаться в хранилище BLOB-объектов Azure Stack Hub. |

## <a name="issues-and-considerations"></a>Проблемы и рекомендации

Во время выбора варианта реализации этого решения необходимо учитывать приведенные ниже моменты.

### <a name="scalability"></a>Масштабируемость 

Чтобы обеспечить масштабирование решения, в Azure Stack Hub необходимо создать виртуальную машину соответствующего размера для обучения.

### <a name="availability"></a>Доступность

Убедитесь, что скрипты обучения и виртуальная машина Azure Stack Hub имеют доступ к локальным данным, используемым для обучения.

### <a name="manageability"></a>Управляемость

Убедитесь, что модели и эксперименты зарегистрированы надлежащим образом, имеют подходящую версию и помечены тегами во избежание путаницы во время развертывания модели. 

### <a name="security"></a>безопасность

Этот шаблон позволяет Azure ML получать доступ к возможным конфиденциальным данным в локальной среде. Убедитесь, что учетная запись, используемая для подключения по протоколу SSH к виртуальной машине Azure Stack Hub, имеет надежный пароль, а скрипты обучения не сохраняют или не передают данные в облако. 

## <a name="next-steps"></a>Дальнейшие действия

Дополнительные сведения по темам, описанным в этой статье:
- Общие сведения о ML и связанные разделы см. в [документации по Azure ML](/azure/machine-learning).
- Дополнительные сведения о создании, хранении образов и управлении ими см. в [документации по Реестру контейнеров Azure](/azure/container-registry/).
- Дополнительные сведения о поставщике ресурсов и способах развертывания см. в статье [Обзор Службы приложений Azure в Azure Stack](/azure-stack/operator/azure-stack-app-service-overview).
- Рекомендации по проектированию гибридных приложений и ответы на дополнительные вопросы см. в [этой статье](overview-app-design-considerations.md).
- См. сведения о [полном семействе продуктов и решений Azure Stack](/azure-stack).

Когда вы будете готовы протестировать пример решения, продолжите работу с [руководством по развертыванию обучения модели ML на пограничном устройстве](https://aka.ms/edgetrainingdeploy). В этом руководстве содержатся пошаговые инструкции по развертыванию и тестированию компонентов.