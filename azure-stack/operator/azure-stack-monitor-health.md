---
title: Мониторинг работоспособности и оповещений в Azure Stack | Документация Майкрософт
description: Узнайте, как контролировать работоспособность и отслеживать оповещения в Azure Stack.
services: azure-stack
documentationcenter: ''
author: mattbriggs
manager: femila
editor: ''
ms.service: azure-stack
ms.workload: na
pms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/16/2019
ms.author: mabrigg
ms.lastreviewed: 01/18/2019
ms.openlocfilehash: 4763025917172e3b8acaeb1ad748410e65143864
ms.sourcegitcommit: 889fd09e0ab51ad0e43552a800bbe39dc9429579
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/16/2019
ms.locfileid: "65782513"
---
# <a name="monitor-health-and-alerts-in-azure-stack"></a>Мониторинг работоспособности и оповещений в Azure Stack

*Область применения: интегрированные системы Azure Stack и Пакет средств разработки Azure Stack*

Azure Stack предоставляет ряд возможностей для мониторинга, которые помогают отслеживать работоспособность и просматривать оповещения для региона Azure Stack. На плитке **Region management** (Управление регионами), которая закреплена на портале администратора для подписки поставщика по умолчанию, отображается список всех развернутых регионов Azure Stack. На плитке отображается количество активных критических и предупреждающих оповещений для каждого региона. Плитка представляет собой точку входа в компонент отслеживания работоспособности и оповещений Azure Stack.

![Плитка управления регионами](media/azure-stack-monitor-health/image1.png)

## <a name="understand-health-in-azure-stack"></a>Концепция работоспособности в Azure Stack

За отслеживание работоспособности и оповещения отвечает поставщик ресурсов работоспособности. В процессе развертывания и настройки Azure Stack компоненты инфраструктуры Azure Stack регистрируются в поставщике ресурсов работоспособности. Такая регистрация позволяет отображать сведения о работоспособности и оповещения для каждого компонента. В Azure Stack используется очень простое определение работоспособности. Если для зарегистрированного экземпляра компонента существуют оповещения, состояние работоспособности этого компонента определяется по наивысшему уровню серьезности активных оповещений: "предупреждение" или "критическое".

## <a name="alert-severity-definition"></a>Определение серьезности оповещений

В Azure Stack оповещения имеют только два уровня серьезности: **предупреждение** и **критическое**.

- **Предупреждение;**  
  Оператор может решить проблему, связанную с предупреждениями в плановом режиме. Такие оповещения обычно не влияют на пользовательские рабочие нагрузки.

- **Critical**  
  Критически важные оповещения следует обрабатывать как можно скорее. Они указывают на проблемы, которые влияют или вскоре повлияют на работу пользователей Azure Stack.


## <a name="view-and-manage-component-health-state"></a>Просмотр состояния работоспособности компонента и управление им

Вы можете просматривать состояние работоспособности компонентов на портале администратора или с помощью REST API и PowerShell.

Чтобы просмотреть состояние работоспособности на портале, щелкните нужный регион на плитке **Region management** (Управление регионами). Вы можете просмотреть состояние работоспособности для инфраструктурных ролей и поставщиков ресурсов.

![Список инфраструктурных ролей](media/azure-stack-monitor-health/image2.png)

Щелкните поставщик ресурсов или инфраструктурную роль, чтобы просмотреть подробные сведения.

> [!WARNING]  
> Если вы щелкнете инфраструктурную роль, а затем выберете экземпляр роли, отобразится меню с действиями **запуска**, **перезапуска** и **завершения работы**. Не используйте эти действия при установке обновлений в интегрированной системе. Кроме того, их **не** следует применять в среде Пакета средств разработки Azure Stack. Эти элементы предназначены только для интегрированной среды, в которой каждая инфраструктурная роль выполняется в нескольких экземплярах роли. Перезапуск экземпляра роли (особенно AzS-Xrp01) в среде пакета SDK приводит к дестабилизации системы. Чтобы получить помощь в устранении неполадок, опубликуйте свою проблему на [форуме по Azure Stack](https://aka.ms/azurestackforum).
>

## <a name="view-alerts"></a>Просмотр оповещений

Список активных оповещений для каждого региона Azure Stack можно открыть непосредственно из колонки **Region management** (Управление регионами). В конфигурации по умолчанию первой располагается плитка **Оповещения**, которая содержит сводку по критическим и предупреждающим оповещениям для этого региона. Вы можете закрепить плитку оповещений, как и любую другую плитку из этой колонки, на панели мониторинга для быстрого доступа.

![Плитка оповещений с одним предупреждающим оповещением](media/azure-stack-monitor-health/image3.png)

Выберите верхнюю часть плитки **Оповещения**, чтобы перейти к списку всех активных оповещений для этого региона. Если вы выберете любой из элементов на этой плитке (**критический** или **предупреждающий**), откроется отфильтрованный список оповещений (только критические или только предупреждающие). 

Колонка **Оповещения** поддерживает фильтрацию по состоянию (активные или закрытые) и серьезности (критические или предупреждающие). В представлении по умолчанию отображаются все активные оповещения. Все закрытые оповещения удаляются из системы через семь дней.

![Панель фильтрации для выбора критических или предупреждающих оповещений](media/azure-stack-monitor-health/alert-view.png)

Действие **View API** (Показать API) позволяет открыть REST API, который использовался для создания представления списка. Эта дает возможность быстро ознакомиться с синтаксисом REST API, чтобы применять его для получения сведений об оповещениях. Этот API можно использовать в службе автоматизации или для интеграции с существующими решениями мониторинга центра обработки данных, подготовки отчетов или отслеживания проблем.

Вы можете щелкнуть любое оповещение, чтобы просмотреть сведения о нем. Сведения об оповещении содержат все поля, связанные с этим оповещением. Отсюда вы можете быстро перейти к затронутым компонентам и (или) к источнику оповещения. Например, указанное ниже оповещение возникает при отключении или недоступности одного из экземпляров инфраструктурной роли.  

![Колонка с информацией об оповещении](media/azure-stack-monitor-health/alert-detail.png)

## <a name="repair-alerts"></a>Оповещения с исправлением

В некоторых оповещениях можно выбрать действие **Исправить**.

При выборе действия **Исправить** выполняется заданная для оповещения процедура попытки устранения проблемы. После выбора этого действия его состояние **отображается** в виде уведомлений портала.

![Выполняется исправление](media/azure-stack-monitor-health/repair-in-progress.png)

Действие **Исправить** сообщит об успешном или неуспешном завершении процедуры в той же колонке уведомлений на портале.  При сбое действия **Исправить** для оповещения можно попробовать запустить его повторно из раздела сведений об оповещении. В случае успешного выполнения действия по **исправлению** **не** запускайте его повторно.

![Исправление выполнено успешно](media/azure-stack-monitor-health/repair-completed.png)

Когда экземпляр инфраструктурной роли вернется в оперативный режим, оповещение автоматически закроется. Многие (но не все) оповещения автоматически закрываются после устранения проблемы. Оповещения, в которых есть кнопка действия "Исправить", закрываются автоматически, если Azure Stack удается устранить проблему.  Для всех других оповещений нажимайте кнопку **Закрыть оповещение** после того, как вы выполните действия по исправлению. Если проблема сохранится, Azure Stack создаст новое оповещение. Если же проблема решена успешно, оповещение остается закрытым и не требует дополнительных действий.

## <a name="next-steps"></a>Дополнительная информация

[Управления обновлениями в Azure Stack](azure-stack-updates.md)

[Region management in Azure Stack](azure-stack-region-management.md) (Управление регионами в Azure Stack)
