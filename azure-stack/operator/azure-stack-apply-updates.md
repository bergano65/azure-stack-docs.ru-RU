---
title: Применение обновлений в Azure Stack | Документация Майкрософт
description: Узнайте, как импортировать и устанавливать пакеты обновлений Майкрософт для интегрированной системы Azure Stack.
services: azure-stack
documentationcenter: ''
author: mattbriggs
manager: femila
editor: ''
ms.service: azure-stack
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 04/25/2019
ms.author: mabrigg
ms.reviewer: justini
ms.lastreviewed: 02/11/2019
ms.openlocfilehash: 124dc554e18f6d387a3e41d37809d43276094879
ms.sourcegitcommit: 0d8ccf2a32b08ab9bcbe13d54c7c3dce2379757f
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/25/2019
ms.locfileid: "64490125"
---
# <a name="apply-updates-in-azure-stack"></a>Применение обновлений в Azure Stack

*Область применения: интегрированные системы Azure Stack*

Вы можете применять пакеты обновлений Майкрософт или изготовителя оборудования для Azure Stack, используя плитку **обновления** на портале администратора.

Если вы используете интегрированные системы версии 1807 или более ранней, скачайте пакет обновления, импортируйте файлы пакета в Azure Stack и установите этот пакет обновления. Для дальнейших инструкций см. раздел [Обновление Azure Stack с помощью скачивания пакета](#update-azure-stack-by-downloading-the-package).

Эти инструкции по обновлению работают с интегрированными системами Azure Stack. Если вы используете систему разработки Azure Stack, скачайте пакет установки для текущей версии. Для дальнейших инструкций см. статью [Установка Пакета средств разработки Azure Stack (ASDK)](../asdk/asdk-install.md).

## <a name="update-azure-stack"></a>Обновление Azure Stack

### <a name="select-and-apply-an-update-package"></a>Выбор и применение пакета обновления

1. Откройте портал "Администрирование".

2. Выберите **Панель мониторинга**. Выберите плитку **Обновление**.

    ![Доступно обновление Azure Stack](media/azure-stack-apply-updates/azure-stack-updates-1901-dashboard.png)

3. Запишите текущую версию Azure Stack. Вы можете обновить до следующей полной версии. Например, если вы используете Azure Stack 1811, следующая версия выпуска — 1901.

    ![Применение обновления Azure Stack](media/azure-stack-apply-updates/azure-stack-updates-1901-updateavailable.png)

4. Выберите следующую доступную версию из списка "Обновления". Если необходимо просмотреть изменения версии, чтобы открыть раздел заметок о выпуске для версии вы можете выбрать **Представление** в столбце заметок о выпуске.

5. Нажмите "Обновить сейчас". Затем начнется обновление.

### <a name="review-update-history"></a>Просмотр журнала обновлений

1. Откройте портал "Администрирование".

2. Выберите **Панель мониторинга**. Выберите плитку **Обновление**.

3. Нажмите **Журнал обновлений**.

![Журнал обновления Azure Stack](media/azure-stack-apply-updates/azure-stack-update-history.PNG)

## <a name="update-azure-stack-by-downloading-the-package"></a>Обновление Azure Stack с помощью скачивания пакета

Если вы используете интегрированные системы версии 1807 или более ранней, скачайте пакет обновления, импортируйте файлы пакета в Azure Stack и установите этот пакет обновления.

## <a name="download-the-update-package"></a>Скачивание пакета обновлений

Когда появится доступный пакет обновлений Майкрософт или изготовителя оборудования для Azure Stack, скачайте этот пакет в любое расположение, доступное из Azure Stack, и просмотрите содержимое пакета. Обычно пакет обновлений содержит следующие файлы:

- Самораспаковывающийся файл `<PackageName>.exe`. Этот файл содержит полезные данные для обновления, например новейшее накопительное обновление для Windows Server.

- Соответствующие файлы `<PackageName>.bin`. Эти файлы обеспечивают сжатие полезных данных, с которыми связан файл *PackageName.exe*.

- Файл `Metadata.xml`. Этот файл содержит важные сведения об обновлении, например название издателя, имя пакета, необходимые компоненты, размер и URL-адрес для поддержки.

> [!IMPORTANT]  
> После применения пакета обновления Azure Stack 1901 формат упаковки для пакетов обновлений Azure Stack будет изменен с EXE, BIN и XML на ZIP и XML. Это не повлияет на операторов Azure Stack, у которых есть подключенные метки. Отключенным операторам Azure Stack необходимо будет импортировать файлы XML и ZIP, используя процедуру, описанную ниже.

## <a name="import-and-install-updates"></a>Импорт и установка обновлений

Ниже описано, как импортировать и устанавливать пакеты обновления на портале администратора.

> [!IMPORTANT]  
> Настоятельно рекомендуем уведомлять пользователей о любых операциях технического обслуживания и планировать стандартные окна обслуживания по возможности в нерабочее время. Операции технического обслуживания могут влиять на рабочие нагрузки пользователей и на операции портала.

1. На портале администратора щелкните **Все службы**. После этого в категории **Данные+хранилище** выберите **Учетные записи хранения**. (Или начните вводить текст **учетные записи хранения** в поле ввода и выберите найденный элемент.)

    ![Где найти учетные записи хранения на портале](media/azure-stack-apply-updates/ApplyUpdates1.png)

2. В поле фильтра введите текст **update** и выберите учетную запись хранения **updateadminaccount**.

3. В разделе **Службы** сведений об учетной записи хранения выберите **BLOB-объекты**.
 
    ![Как найти BLOB-объекты для учетной записи хранения](media/azure-stack-apply-updates/ApplyUpdates3.png) 

4. В разделе **Служба BLOB-объектов** выберите **+ Контейнер**, чтобы создать контейнер. Введите имя (например *обновление 1811*) и выберите **ОК**.
 
     ![Как добавить контейнер в учетную запись хранения](media/azure-stack-apply-updates/ApplyUpdates4.png)

5. После создания контейнера щелкните его имя и нажмите кнопку **Отправить**, чтобы отправить в контейнер файлы пакета.
 
    ![Как отправить файлы пакета](media/azure-stack-apply-updates/ApplyUpdates5.png)

6. В разделе **Отправка большого двоичного объекта** щелкните значок папки, найдите файл .exe из пакета обновлений и щелкните **Открыть** в окне обозревателя файлов.
  
7. В разделе **Отправка большого двоичного объекта** щелкните **Отправить**.
  
    ![Расположение, в которое нужно передать каждый файл пакета](media/azure-stack-apply-updates/ApplyUpdates6.png)

8. Повторите шаги 6 и 7 для файлов *PackageName*.bin и Metadata.xml. Не импортируйте файл Supplemental Notice.txt, если он включен.
9. Когда все будет готово, просмотрите уведомления (значок колокольчика в правом верхнем углу окна портала). В списке уведомлений должно быть сообщение о завершении отправки.
10. Вернитесь к плитке обновления на панели мониторинга. Теперь эта плитка должна демонстрировать доступность обновления. Щелкните плитку, чтобы просмотреть только что добавленный пакет обновлений.
11. Чтобы установить обновления, выберите пакет с пометкой **Ready** (Готов), а затем щелкните его правой кнопкой мыши и выберите действие **Update now** (Обновить сейчас) или нажмите кнопку **Update now** (Обновить сейчас) в верхней части экрана.
12. Щелкнув пакет обновления, вы можете просмотреть его состояние в области **Update run details** (Сведения о выполнении обновления). Также вы можете выбрать здесь действие **Download full logs** (Скачать журналы полностью).
13. Когда обновление завершится, на плитке обновлений отобразится номер новой версии Azure Stack.

Вы можете вручную удалить пакеты обновлений из учетной записи хранения после их установки в Azure Stack. Azure Stack периодически проверяет наличие устаревших пакетов обновлений и удаляет их из хранилища. Azure Stack может понадобится две недели, чтобы удалить устаревшие пакеты.

## <a name="next-steps"></a>Дополнительная информация

- [Общие сведения об управлении обновлениями в Azure Stack](azure-stack-updates.md)
- [Azure Stack servicing policy](azure-stack-servicing-policy.md) (Политика обслуживания Azure Stack).
