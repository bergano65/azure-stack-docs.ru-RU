---
title: Общие сведения об управлении обновлениями в Azure Stack | Документация Майкрософт
description: Сведения об управлении обновлениями для интегрированных систем Azure Stack.
services: azure-stack
documentationcenter: ''
author: mattbriggs
manager: femila
editor: ''
ms.service: azure-stack
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 04/04/2019
ms.author: mabrigg
ms.lastreviewed: 04/04/2019
ms.reviewer: justini
ms.openlocfilehash: 5fa84271c02ebc749871116badb3c767812a48ec
ms.sourcegitcommit: 7f39bdc83717c27de54fe67eb23eb55dbab258a9
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/05/2019
ms.locfileid: "66691552"
---
# <a name="manage-updates-in-azure-stack-overview"></a>Общие сведения об управлении обновлениями в Azure Stack

*Область применения: интегрированные системы Azure Stack*

Пакеты обновления (Майкрософт) для интегрированных систем Azure Stack, как правило, выпускаются ежемесячно. Обратитесь к своему изготовителю оборудования (OEM), чтобы убедиться, что в рамках используемой им процедуры уведомления ваша организация будет получать уведомления об обновлениях. Кроме того, в этой библиотеке документации в разделе **Обзор** > **Заметки о выпуске** можно найти сведения о выпусках, которые находятся в стадии активной поддержки.

Каждый выпуск обновлений программного обеспечения Майкрософт оформляется в виде отдельного пакета обновления. Оператор Azure Stack может импортировать, устанавливать и отслеживать ход установки этих пакетов обновления на портале администрирования Azure Stack.

Поставщиком изготовителя оборудования также будут выпускаться обновления, например обновления драйверов и встроенного ПО. Хотя эти обновления доставляются поставщиком как отдельные пакеты, импорт, установка некоторых из них и управление ими аналогичны соответствующим процедурам для пакетов обновления Майкрософт.

Для обеспечения поддержки системы необходимо всегда использовать обновленную версию Azure Stack. Обязательно ознакомьтесь с [политикой обслуживания Azure Stack](azure-stack-servicing-policy.md).

> [!NOTE]
> Пакеты обновлений Azure Stack нельзя применить к Пакету средств разработки Azure Stack (ASDK). Пакеты обновления предназначены для интегрированных систем. Сведения см. в разделе [Повторное развертывание ASDK](../asdk/asdk-redeploy.md).

## <a name="the-update-resource-provider"></a>Поставщик ресурсов обновлений

Azure Stack включает в себя поставщика ресурсов обновлений, который управляет применением обновлений для программного обеспечения Майкрософт. Этот поставщик проверяет, применяются ли обновления ко всем физическим узлам, средам выполнения и приложениям Service Fabric, а также ко всем виртуальным машинам инфраструктуры и связанным с ними службам.

По мере установки обновлений можно просмотреть общее состояние, так как процесс обновления направлен на различные подсистемы Azure Stack (например, физические узлы и виртуальные машины инфраструктуры).

## <a name="plan-for-updates"></a>Планирование обновлений

Настоятельно рекомендуем уведомлять пользователей о любых операциях технического обслуживания и планировать стандартные окна обслуживания по возможности в нерабочее время. Операции технического обслуживания могут влиять как на рабочие нагрузки клиентов, так и на операции портала.

При планировании периода обслуживания обязательно просмотрите сведения о конкретном типе пакета обновления, выпущенного Майкрософт, которые приводятся в соответствующих примечаниях о выпуске. За исключением некоторых исправлений, каждый пакет обновления будет имет соответствующий тип — **Полный** или **Экспресс**. С помощью полных пакетов обновляются операционные системы физических узлов в единице масштабирования. Это требует более длительного периода обслуживания. Экспресс-пакеты обновлений применяются к определенным областям и не затрагивают базовые операционные системы физических узлов.

Перед началом установки этого обновления запустите [Test-AzureStack](azure-stack-diagnostic-test.md) со следующими параметрами для проверки состояния Azure Stack и устраните все найденные операционные проблемы, включая все предупреждения и сбои. Кроме того, просмотрите активные предупреждения и решите проблемы с теми, которые требуют действия.  

```powershell
Test-AzureStack -Group UpdateReadiness
```

## <a name="using-the-update-tile-to-manage-updates"></a>Управление обновлениями с помощью плитки "Обновление"

Управление обновлениями осуществляется на портале администрирования. Оператор Azure Stack может использовать плитку **Обновление** на панели мониторинга, чтобы:

- просмотреть важные сведения, например текущую версию;
- установить обновления и отслеживать ход выполнения;
- просмотреть журнал ранее установленных обновлений.
- просмотреть текущую версию пакета OEM облака.

## <a name="determine-the-current-version"></a>Определение текущей версии

Текущая версия Azure Stack отображается на плитке **Обновление**. Вот как можно открыть этот элемент.

1. Войдите на портал администрирования Azure Stack.
2. Выберите **Панель мониторинга**. Текущая версия указана на элементе **Обновление**.

    ![Плитка обновлений на панели мониторинга по умолчанию](./media/azure-stack-updates/image1.png)

    Например, на этом снимке экрана указана версия 1.1903.0.35.

## <a name="install-updates-and-monitor-progress"></a>Установка обновлений и отслеживание хода выполнения

1. Войдите на портал администрирования Azure Stack.
2. Выберите **Панель мониторинга**. Выберите плитку **Обновление**.
3. Выберите **Обновить сейчас**.

    ![Сведения о выполнении обновления Azure Stack](media/azure-stack-updates/azure-stack-update-button.png)

4. Вы можете просмотреть общее состояние процесса обновления, проходящего в различных подсистемах Azure Stack. Примерами таких подсистем могут послужить физические узлы, Service Fabric, виртуальные машины инфраструктуры и службы, которые предоставляют портал администрирования и пользовательский портал. В ходе обновления поставщик ресурсов обновлений сообщает дополнительные сведения об обновлении, в том числе количество успешно выполненных и выполняемых шагов.

5. Выберите **Download full logs** (Скачать журналы полностью) в колонке сведений о выполнении обновления, чтобы скачать полные журналы.

    ![Сведения о выполнении обновления Azure Stack](media/azure-stack-updates/update-run-details.png)

6. После того как обновление будет выполнено, поставщик ресурсов обновлений отобразит подтверждение **Succeeded** (Успешно), сообщая об успешном завершении процесса обновления и времени его выполнения. После этого с помощью фильтра можно просмотреть сведения о всех обновлениях, доступных обновлениях или установленных обновлениях.

    ![Сведения об успешном выполнении обновления Azure Stack](media/azure-stack-updates/update-success.png)

   В случае сбоя обновления на плитке **Обновление** отобразится сообщение **Требует внимания**. Используйте параметр **Download full logs** (Скачать журналы полностью), чтобы получить общее представление о том, на каком этапе обновления произошел сбой. Сбор журналов Azure Stack помогает упростить диагностику и устранение неполадок.

## <a name="next-steps"></a>Дополнительная информация

- [Azure Stack servicing policy](azure-stack-servicing-policy.md) (Политика обслуживания Azure Stack). 
- [Region management in Azure Stack](azure-stack-region-management.md) (Управление регионами в Azure Stack)
