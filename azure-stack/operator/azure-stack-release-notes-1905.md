---
title: Заметки о выпуске Azure Stack 1905 | Документация Майкрософт
description: В этой статье приведены сведения о новых возможностях и известных проблемах в обновлении 1905 для интегрированных систем Azure Stack, а также о том, где можно скачать это обновление.
services: azure-stack
documentationcenter: ''
author: sethmanheim
manager: femila
editor: ''
ms.assetid: ''
ms.service: azure-stack
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 06/14/2019
ms.author: sethm
ms.reviewer: hectorl
ms.lastreviewed: 06/14/2019
monikerRange: azs-1905
ms.openlocfilehash: 27a41069c3406cdb843e263ee49a63e5c5919477
ms.sourcegitcommit: 71d7990a2b21576c44bb2aea13ae2026e9510c55
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/30/2019
ms.locfileid: "70188320"
---
# <a name="azure-stack-1905-update"></a>Обновление 1905 для Azure Stack

*Область применения: интегрированные системы Azure Stack*

В этой статье описано содержимое пакета обновления 1905. Обновление содержит новые усовершенствования и исправления для этого выпуска Azure Stack. Эта статья содержит следующие сведения.

- [Новые возможности, улучшения, исправления и обновления для системы безопасности](#whats-in-this-update)
- [Планирование обновлений](#update-planning)

> [!IMPORTANT]  
> Этот пакет обновления предназначен только для интегрированных систем Azure Stack. Не применяйте этот пакет обновления к Пакету средств разработки Azure Stack.

## <a name="build-reference"></a>Указание сборки

Номер сборки обновления 1905 для Azure Stack — **1.1905.0.40**.

### <a name="update-type"></a>Тип обновления

Тип сборки обновления Azure Stack 1905 — **Полная**. В результате обновление 1905 имеет более длительное время выполнения, чем экспресс-обновления, такие как 1903 и 1904. Конкретное время выполнения для полных обновлений обычно зависит от количества узлов, содержащихся в экземпляре стека Azure, емкости, используемой в системе рабочими нагрузками клиента, подключения системы к сети (есть подключение к Интернету) и аппаратной конфигурация системы. Обновление 1905 в нашем внутреннем тестировании имело следующее ожидаемое время выполнения: 4 узла — 35 часов, 8 узлов — 45 часов, 12 узлов — 55 часов, 16 узлов — 70 часов. Обновление 1905 может длиться дольше. В этом случае операторам не нужно предпринимать никаких действий (за исключением тех случаев, когда обновление завершается ошибкой). См. подробнее о типах сборки обновления в руководстве по [управлению обновлениями в Azure Stack](azure-stack-updates.md).

## <a name="whats-in-this-update"></a>Что нового в этом обновлении

<!-- The current theme (if any) of this release. -->

<!-- What's new, also net new experiences and features. -->

- Для модуля обновления в Azure Stack реализована возможность обновлять встроенное ПО узлов единиц масштабирования. Для этого необходимо получить соответствующий пакет обновления от партнеров по оборудованию. Обратитесь к своему партнеру по оборудованию, чтобы узнать о доступности такого пакета.

- Система Windows Server 2019 теперь поддерживается и доступна для синдикации через Azure Stack Marketplace.
В этом обновлении можно активировать Windows Server 2019 в узле с версией Windows Server 2016.

- С помощью расширения [учетных записей Azure для Visual Studio Code](../user/azure-stack-dev-start-vscode-azure.md) разработчики могут создавать код для Azure Stack, выполнив вход и просматривая подписки и другие службы. Расширение учетных записей Azure работает как в среде Azure Active Directory (Azure AD), так и в среде AD FS. Требуется только внести небольшое изменение в пользовательские параметры Visual Studio Code. Visual Studio Code требуется, чтобы субъекту-службе было предоставлено разрешение на выполнение в этой среде. Для этого импортируйте сценарий идентификации и выполните командлеты, указанные в разделе [Мультитенантность в Azure Stack](../operator/azure-stack-enable-multitenancy.md). Для этого требуется обновить домашний каталог и зарегистрировать каталог гостевого клиента для каждого каталога. После обновления до выпуска 1905 или более поздней версии отображается оповещение об обновлении клиента домашнего каталога, для которого добавлен субъект-служба Visual Studio Code. 

### <a name="improvements"></a>Улучшения

<!-- Changes and product improvements with tangible customer-facing value. -->
- В рамках реализации TLS 1.2 в Azure Stack мы обновили указанные ниже расширения до следующих версий:

  - microsoft.customscriptextension-arm-1.9.3;
  - microsoft.iaasdiagnostics-1.12.2.2;
  - microsoft.antimalware-windows-arm-1.5.5.9;
  - microsoft.dsc-arm-2.77.0.0;
  - microsoft.vmaccessforlinux-1.5.2.

  Мы настоятельно рекомендуем как можно быстрее скачать эти версии расширений, чтобы новые развертывания расширения успешно выполнялись при реализации TLS 1.2 в будущем выпуске. Обязательно задавайте значение **autoupdateminorversion=true**, чтобы дополнительные обновления версий расширений (например, с 1.8 до 1.9) выполнялись автоматически.

- Новый раздел **Обзор справки и поддержки** на портале Azure Stack поможет операторам в решении вопросов о вариантах поддержки, получении помощи специалистов и изучении возможностей Azure Stack. При создании запроса на поддержку в интегрированных системах автоматически определяется соответствующая служба Azure Stack. Мы настоятельно рекомендуем использовать для отправки запросов на поддержку именно этот интерфейс, а не общедоступный портал Azure. Подробные сведения см. в статье [Microsoft Azure Stack help and support](azure-stack-help-and-support-overview.md) (Справка и поддержка для Microsoft Azure Stack).

- Если подключить несколько каталогов Azure Active Directory (с помощью [этого процесса](azure-stack-enable-multitenancy.md)), возможен пропуск повторного запуска сценария при установке определенных обновлений или в тех случаях, когда после изменений в авторизации субъекта-службы Azure AD аннулируются права. Это может привести к различным проблемам — от блокировки доступа к определенным компонентам до эпизодических сбоев, причину которых очень сложно определить. Чтобы предотвратить это, в выпуске 1905 представлена новая функция для проверки наличия таких разрешений. При обнаружении определенных проблем с конфигурацией отправляется соответствующее оповещение. Такая проверка выполняется каждый час. При этом отображаются сведения о действиях, которые нужно выполнить для устранения проблемы. Оповещение закрывается, если все клиенты находятся в работоспособном состоянии.

- Повышена надежность операций резервного копирования инфраструктуры во время отработки отказа службы.

- Доступна новая версия [подключаемого модуля Azure Stack Nagios](azure-stack-integrate-monitor.md#integrate-with-nagios), которая использует [библиотеки аутентификации Azure Active Directory](/azure/active-directory/develop/active-directory-authentication-libraries) (ADAL) для аутентификации. Этот подключаемый модуль теперь также поддерживает развертывания Azure Stack с использованием Azure AD (AAD) и служб федерации Active Directory (AD FS). Подробные сведения см. на сайте [подключаемого модуля Nagios](https://exchange.nagios.org/directory/Plugins/Cloud/Monitoring-AzureStack-Alerts/details).

- Выпущен новый гибридный профиль **2019-03-01-Hybrid**, который поддерживает все последние возможности Azure Stack. Azure PowerShell и Azure CLI поддерживают профиль **2019-03-01-Hybrid**. Кроме того, опубликованы пакеты SDK для .NET, Ruby, Node.js, Go и Python, которые поддерживают профиль **2019-03-01-Hybrid**. Соответствующая документация и некоторые примеры обновлены с учетом этих изменений.

- [Пакет SDK Node.js](https://www.npmjs.com/search?q=2019-03-01-hybrid) теперь поддерживает профили API. Опубликованы пакеты, которые поддерживают профиль **2019-03-01-Hybrid**.

- Обновление стека Azure 1905 добавляет две новые роли инфраструктуры для повышения надежности и поддержки платформы:

  - **Круг инфраструктуры**. В будущем круг инфраструктуры будет содержать контейнерные версии существующих ролей инфраструктуры — например, xrp — для которых в настоящее время требуются собственные назначенные виртуальные машины инфраструктуры. Это повысит надежность платформы и сократит количество виртуальных машин инфраструктуры, необходимых для стека Azure. Это в результате сократит общее потребление ресурсов ролями инфраструктуры стека Azure в будущем.
  - **Круг поддержки**. В будущем круг поддержки будет использоваться для обработки улучшенных сценариев поддержки клиентов.  

  Кроме того, мы добавили дополнительный экземпляр виртуальной машины контроллера домена, чтобы повысить доступность этой роли.

  Эти изменения повысят потребление ресурсов инфраструктуры стека Azure следующим образом:
  
    | Номер SKU Azure Stack | Увеличение потребления вычислительных ресурсов | Увеличение потребления ресурсов памяти |
    | -- | -- | -- |
    |4 узла|22 виртуальных ЦП|28 ГБ|
    |8 узлов|38 виртуальных ЦП|44 Гб|
    |12 узлов|54 виртуальных ЦП|60 ГБ|
    |16 узлов|70 виртуальных ЦП|76 Гб|
  
### <a name="changes"></a>изменения

- Чтобы повысить надежность и доступность в сценариях планового и внепланового обслуживания, в Azure Stack добавлен дополнительный экземпляр роли инфраструктуры для служб доменов.

- В этом обновлении при выполнении операций восстановления и добавления узлов также проверяются аппаратные компоненты. Это обеспечивает однородность узлов в единице масштабирования.

- Если запланированные операции резервного копирования завершаются со сбоем и превышается определенный срок хранения, контроллер резервного копирования инфраструктуры сохранит по меньшей мере одну успешную резервную копию. 

### <a name="fixes"></a>Исправления

<!-- Product fixes that came up from customer deployments worth highlighting, especially if there is an SR/ICM associated to it. -->

- Исправлена проблема, при которой после перезагрузки узла в единице масштабирования появлялось оповещение, касающееся **агента размещения службы вычислений**.

- Исправлены проблемы с управлением Marketplace на портале администрирования, которые приводили к отображению некорректных результатов при применении фильтров, а также дублирующихся имен издателей в фильтре издателей. Также ускорено отображение результатов.

- Исправлена проблема с колонкой доступной резервной копии, которая приводила к отображению сведений о доступности новой резервной копии до завершения ее отправки во внешнее хранилище. Теперь сведения о доступности резервной копии будут отображаться в списке после ее успешной отправки. 

<!-- ICM: 114819337; Task: 4408136 -->
- Исправлена проблема с получением ключей восстановления во время резервного копирования. 

<!-- Bug: 4525587 -->
- Исправлена проблема с обновлением OEM, которая приводила к отображению версии как "undefined" на портале оператора.

### <a name="security-updates"></a>обновления для системы безопасности;

Подробные сведения об обновлениях для системы безопасности в этом обновлении Azure Stack см. в статье [Azure Stack security updates](azure-stack-release-notes-security-updates.md) (Обновления для системы безопасности Azure Stack).

## <a name="update-planning"></a>Планирование обновлений

Перед применением обновления, обязательно ознакомьтесь со следующими сведениями:

- [Известные проблемы](azure-stack-release-notes-known-issues-1905.md)
- [Обновления для системы безопасности](azure-stack-release-notes-security-updates.md)
- [Контрольный список действий до и после применения обновления](azure-stack-release-notes-checklist.md)

## <a name="download-the-update"></a>Скачивание обновления

Пакет обновления 1905 для Azure Stack можно скачать [на странице загрузки Azure Stack](https://aka.ms/azurestackupdatedownload). При использовании инструмента загрузки обязательно используйте последнюю версию, а не кэшированную копию из каталога загрузок.

## <a name="hotfixes"></a>Исправления

Azure Stack выпускает исправления на регулярной основе. Перед обновлением Azure Stack до версии 1905 обязательно установите последнее исправление Azure Stack для обновления 1904.

Исправления Azure Stack применимы только к интегрированным системам Azure Stack. Не устанавливайте исправления в пакете ASDK.

### <a name="before-applying-the-1905-update"></a>Перед применением обновления 1905

Выпуск 1905 Azure Stack должен применяться к выпуску 1904 со следующими исправлениями:

<!-- One of these. Either no updates at all, nothing is required, or the LATEST hotfix that is required-->
- [Исправление Azure Stack 1.1904.4.45](https://support.microsoft.com/help/4505688)

### <a name="after-successfully-applying-the-1905-update"></a>После успешного применения обновления 1905

После установки этого обновления установите все применимые исправления. Подробные сведения см. в статье [Политика обслуживания Azure Stack](azure-stack-servicing-policy.md).

<!-- One of these. Either no updates at all, nothing is required, or the LATEST hotfix that is required-->
- [Исправление Azure Stack 1.1905.3.48](https://support.microsoft.com/help/4510078)

## <a name="automatic-update-notifications"></a>Автоматические уведомления об обновлениях

Клиенты с системами, которые могут получить доступ к Интернету из сети инфраструктуры, увидят сообщение **Обновление доступно** на портале оператора. Системы без доступа к Интернету могут загружать и импортировать ZIP-файл с соответствующим расширением .xml.

> [!TIP]  
> Подпишитесь на следующие веб-каналы *RSS* или *Atom*, чтобы следить за исправлениями Azure Stack:
>
> - [RSS](https://support.microsoft.com/app/content/api/content/feeds/sap/en-us/32d322a8-acae-202d-e9a9-7371dccf381b/rss)
> - [Atom](https://support.microsoft.com/app/content/api/content/feeds/sap/en-us/32d322a8-acae-202d-e9a9-7371dccf381b/atom)

## <a name="archived-release-notes"></a>Архивные заметки о выпуске

Вы можете просмотреть [более старые версии заметок о выпуске Azure Stack в коллекции TechNet](http://aka.ms/azsarchivedrelnotes). Эти архивные заметки о выпуске предоставляются только для справки. Поддержка этих версий не предусмотрена. Подробные сведения о поддержке Azure Stack см. в статье [Политика обслуживания Azure Stack](azure-stack-servicing-policy.md). За дальнейшей помощью обратитесь в службу технической поддержки Майкрософт.

## <a name="next-steps"></a>Дополнительная информация

- [Общие сведения об управлении обновлениями в Azure Stack](azure-stack-updates.md).  
- [Применение обновлений в Azure Stack](azure-stack-apply-updates.md).
- В [этой статье](azure-stack-servicing-policy.md) описаны политика обслуживания для интегрированных систем Azure Stack и действия, необходимые для сохранения поддерживаемого состояния системы.  
- Сведения об использовании привилегированной конечной точки (PEP) для отслеживания и возобновления обновлений см. в статье [Мониторинг обновлений в Azure Stack с помощью привилегированной конечной точки](azure-stack-monitor-update.md).  

