---
title: Заметки о выпуске обновления 6 для Службы приложений в Azure Stack | Документация Майкрософт
description: Узнайте о том, что находится в пакете обновления 6 для Службы приложений в Azure Stack, какие есть известные проблемы и откуда скачать обновление.
services: azure-stack
documentationcenter: ''
author: apwestgarth
manager: stefsch
editor: ''
ms.assetid: ''
ms.service: azure-stack
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 06/24/2019
ms.author: anwestg
ms.reviewer: ''
ms.openlocfilehash: c142ecda309f00ee94429be3d7b8f3c6e8072668
ms.sourcegitcommit: 71d7990a2b21576c44bb2aea13ae2026e9510c55
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/30/2019
ms.locfileid: "70188224"
---
# <a name="app-service-on-azure-stack-update-6-release-notes"></a>Заметки о выпуске обновления 6 для Службы приложений Azure в Azure Stack

*Область применения: интегрированные системы Azure Stack и Пакет средств разработки Azure Stack*

В этих заметках о выпуске описаны улучшения, исправления и известные проблемы в обновлении 6 для Службы приложений Azure в Azure Stack. Известные проблемы можно разделить на проблемы, которые непосредственно относятся к процессу развертывания, обновления, и проблемы со сборкой (после установки).

> [!IMPORTANT]
> Прежде чем развертывать Службу приложений Azure 1.6, примените обновление 1904 к интегрированной системе Azure Stack или разверните последний пакет средств разработки Azure Stack.


## <a name="build-reference"></a>Указание сборки

Номер сборки обновления 6 для Службы приложений Azure в Azure Stack — **82.0.1.50**.

### <a name="prerequisites"></a>Предварительные требования

Перед началом развертывания ознакомьтесь со статьей [Подготовка к работе со службой приложений в Azure Stack](azure-stack-app-service-before-you-get-started.md).

Прежде чем начать обновление Службы приложений Azure в Azure Stack до версии 1.6, сделайте следующее:

- Убедитесь, что все роли готовы в разделе администрирования Службы приложений Azure на портале администрирования Azure Stack.

- Выполните резервное копирование Службы приложений и баз данных master:
  - AppService_Hosting;
  - AppService_Metering;
  - master.

- Выполните резервное копирование общей папки с содержимым приложения клиента.

- Выполните синдикацию расширения **пользовательских сценариев** версии **1.9.1** из Marketplace.

### <a name="new-features-and-fixes"></a>Новые функции и исправления

Обновление 6 для Службы приложений Azure в Azure Stack включает в себя следующие улучшения и исправления:

- Обновления для **клиента, администратора службы приложений, портала функций и средств Kudu**. Согласованы с версией пакета SDK для портала Azure Stack.

- Обновление **среды выполнения Функций Azure** до версии **v1.0.12299**.

- Обновления основной службы для повышения надежности и отображения сообщений об ошибках упрощают диагностику распространенных проблем.

- **Реализованы обновления следующих исполняющих сред и инструментов**:
  - ASP.NET Core 2.2.4
  - NodeJS 10.15.2
  - Zulu OpenJDK 8.36.0.1
  - Tomcat 7.0.81
  - Tomcat 8.5.37
  - Tomcat 9.0.14
  - PHP 5.6.39
  - PHP 7.0.33
  - PHP 7.1.25
  - PHP 7.2.13
  - Обновление Kudu до версии 81.10329.3844

- **Обновления базовой операционной системы всех ролей**.
  - [Накопительное обновление для 64-разрядных систем Windows Server 2016 за апрель 2019 г. (KB4493473)](https://support.microsoft.com/help/4493473/windows-10-update-kb4493473)

### <a name="post-deployment-steps"></a>Действия, выполняемые после развертывания

> [!IMPORTANT]
> Если вы указали поставщик ресурсов Службы приложений с помощью экземпляра SQL Always On, [к группе доступности необходимо добавить базы данных appservice_hosting и appservice_metering](https://docs.microsoft.com/sql/database-engine/availability-groups/windows/availability-group-add-a-database), а затем синхронизировать эти базы данных, чтобы избежать прекращения работы службы в случае отработки отказа.

### <a name="known-issues-post-installation"></a>Известные проблемы (после установки)

- Рабочим ролям не удается связаться с файловым сервером, если Служба приложений развернута в существующей виртуальной сети и файловый сервер доступен только в частной сети, как это описано в документации по развертыванию Службы приложений Azure в Azure Stack.

Если вы решили выполнить развертывание в существующей виртуальной сети с использованием внутреннего IP-адреса для подключения к файловому серверу, необходимо добавить правило безопасности для исходящего трафика, разрешающее передачу трафика SMB между подсетью рабочей роли и файловым сервером. Для этого перейдите к группе безопасности сети WorkersNsg на портале администрирования и добавьте правило безопасности для исходящего трафика со следующими свойствами.
 * Источник: Любой
 * Диапазон исходных портов: *.
 * Назначение: IP-адреса
 * Диапазон конечных IP-адресов: диапазон IP-адресов для файлового сервера
 * Диапазон конечных портов: 445
 * Протокол: TCP
 * Действие: РАЗРЕШИТЬ
 * Приоритет: 700
 * Имя: Outbound_Allow_SMB445

### <a name="known-issues-for-cloud-admins-operating-azure-app-service-on-azure-stack"></a>Известные проблемы для облачных администраторов, работающих со службой приложений Azure в Azure Stack

См. документацию в [заметках о выпуске Azure Stack 1908](azure-stack-release-notes-1908.md).

### <a name="known-issues-for-tenants-deploying-applications-on-azure-app-service-on-azure-stack"></a>Известные проблемы с приложениями, выполняющими развертывания клиентов, в Службе приложений Azure в Azure Stack

- Центр развертывания недоступен

Клиенты пока не могут использовать центр развертывания, так как эта возможность появилась в общедоступном облаке в конце 2018 г.  Клиенты по-прежнему могут использовать методы стандартного развертывания (FTP, веб-развертывания, Git, и т. д.) с помощью портала, CLI и PowerShell.

- Недоступны параметры развертывания в классическом интерфейсе и параметры учетных данных развертывания на портале

Для доступа к параметрам развертывания и учетным данным развертывания в развертывании Azure Stack клиенты должны перейти на портал, используя URL-адрес в формате https://portal.&lt ; *регион*&gt;.&lt;*полное доменное имя*&gt; /? websitesExtension_oldvsts = true, который для ASDK будет иметь вид [https://portal.local.azurestack.external/?websitesExtension_oldvsts=true](https://portal.local.azurestack.external/?websitesExtension_oldvsts=true), после чего перейти в свои приложения обычным образом.

- Мониторинг Функции Azure постоянно отображает сообщение "Загрузка" на портале

При попытке отслеживания отдельных функций на портале клиента вам не будет отображаться журнал вызовов, данные о числе успешных операций или ошибок.  Чтобы повторно включить эту функциональность, перейдите в **приложение-функцию**, выберите **Функции платформы** и **Параметры приложения**.  Добавьте новый параметр приложения с именем **AzureWebJobsDashboard** и задайте для него то же значение, что и для параметра AzureWebJobsStorage.  Затем перейдите в представление монитора для функции, чтобы просмотреть сведения мониторинга.

## <a name="next-steps"></a>Дополнительная информация

- Обзор службы приложений Azure в Azure Stack см. в [этой статье](azure-stack-app-service-overview.md).
- Дополнительные сведения о том, как подготовиться к развертыванию службы приложений Azure в Azure Stack, см. в разделе [Подготовка к работе со службой приложений в Azure Stack](azure-stack-app-service-before-you-get-started.md).
