---
title: Заметки о выпуске обновления 2 для Службы приложений Azure в Azure Stack Hub
description: Узнайте об улучшениях, исправлениях и известных проблемах в обновлении 2 для Службы приложений в Azure Stack Hub.
author: bryanla
manager: stefsch
ms.topic: article
ms.date: 03/25/2019
ms.author: anwestg
ms.reviewer: anwestg
ms.lastreviewed: 05/18/2019
ms.openlocfilehash: 2c80aafe3665b6ecb31e701483a5e903d0471e42
ms.sourcegitcommit: 4ac711ec37c6653c71b126d09c1f93ec4215a489
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/27/2020
ms.locfileid: "77703423"
---
# <a name="app-service-on-azure-stack-hub-update-2-release-notes"></a>Заметки о выпуске обновления 2 для Службы приложений Azure в Azure Stack Hub

В этих заметках о выпуске описаны улучшения, исправления и известные проблемы в обновлении 2 для Службы приложений Azure в Azure Stack Hub. Известные проблемы можно разделить на три категории: проблемы, которые непосредственно относятся к процессу развертывания, проблемы с обновлением и проблемы со сборкой (после установки).

> [!IMPORTANT]
> Прежде чем развертывать Службу приложений Azure 1.2, примените обновление 1804 к интегрированной системе Azure Stack Hub или разверните последнюю версию Пакета средств разработки Azure Stack (ASDK).

## <a name="build-reference"></a>Указание сборки

Номер сборки обновления 2 для Службы приложений Azure в Azure Stack Hub — **72.0.13698.10**.

### <a name="prerequisites"></a>Предварительные требования

> [!IMPORTANT]
> Теперь для новых развертываний Службы приложений Azure в Azure Stack Hub нужен [трехсубъектный групповой сертификат](azure-stack-app-service-before-you-get-started.md#get-certificates). Это связано с улучшением обработки единого входа для Kudu в Службе приложений Azure. Новый субъект — **\*.sso.appservice.\<регион\>.\<доменное_имя\>.\<расширение\>** .

Ознакомьтесь с [предварительными условиями для развертывания Службы приложений в Azure Stack Hub](azure-stack-app-service-before-you-get-started.md) перед началом развертывания.

### <a name="new-features-and-fixes"></a>Новые функции и исправления

Обновление 2 для Службы приложений Azure в Azure Stack Hub включает приведенные ниже улучшения и исправления.

- Обновления для **клиента, администратора службы приложений, портала функций и средств Kudu**. Они согласованы с версией пакета SDK для портала Azure Stack Hub.

- Обновления **среды выполнения Функций Azure** до версии **v1.0.11612**.

- Обновления основной службы для повышения надежности и отображения сообщений об ошибках упрощают диагностику распространенных проблем.

- **Реализованы обновления следующих исполняющих сред и инструментов**:
  - Добавлена платформа .NET Framework 4.7.1
  - Добавлены такие версии **Node.JS**:
    - NodeJS 6.12.3
    - NodeJS 8.9.4
    - NodeJS 8.10.0
    - NodeJS 8.11.1
  - Добавлены такие версии **NPM**:
    - 5.6.0
  - Обновлены компоненты .NET Core для согласования со Службой приложений Azure в общедоступном облаке.
  - Обновлен компонент Kudu

- Включена функция автоматического переключения слотов развертывания ([настройка автоматического переключения](https://docs.microsoft.com/azure/app-service/deploy-staging-slots#configure-auto-swap)).

- Включено тестирование в рабочей среде ([тестирование в рабочей среде)](https://azure.microsoft.com/resources/videos/introduction-to-azure-websites-testing-in-production-with-galin-iliev/).

- Включен компонент "Прокси-серверы Функций Azure" ([Прокси-серверы Функций Azure](https://docs.microsoft.com/azure/azure-functions/functions-proxies)).

- Добавлена поддержка пользовательского интерфейса расширения для администрирования службы приложений для:
  - смены секретов;
  - смены сертификатов;
  - смены учетных данных системы;
  - смены строк подключения.

### <a name="known-issues-post-installation"></a>Известные проблемы (после установки)

- Рабочим ролям не удается связаться с файловым сервером, если служба приложений развернута в существующей виртуальной сети и файловый сервер доступен только в частной сети.

Если вы решили выполнить развертывание в существующей виртуальной сети с использованием внутреннего IP-адреса для подключения к файловому серверу, необходимо добавить правило безопасности для исходящего трафика, разрешающее передачу трафика SMB между подсетью рабочей роли и файловым сервером. Для этого перейдите к группе безопасности сети WorkersNsg на портале администрирования и добавьте правило безопасности для исходящего трафика со следующими свойствами.

* Источник: Любой
* Диапазон исходных портов: *.
* Назначение: IP-адреса
* Диапазон конечных IP-адресов: диапазон IP-адресов для файлового сервера
* Диапазон конечных портов: 445
* Протокол: TCP
* Действие: Allow
* Приоритет: 700
* Имя: Outbound_Allow_SMB445

### <a name="known-issues-for-cloud-admins-operating-azure-app-service-on-azure-stack-hub"></a>Известные проблемы, с которыми сталкиваются администраторы облака, работающие со службой приложений Azure в Azure Stack Hub

Обратитесь к документации в статье [Azure Stack Hub 1804 Release Notes](azure-stack-update-1903.md) (Заметки о выпуске обновления 1804 для Службы приложений Azure в Azure Stack Hub)

## <a name="next-steps"></a>Дальнейшие действия

- Общие сведения о Службе Приложений Azure в Azure Stack Hub см. в [этой статье](azure-stack-app-service-overview.md).
- Дополнительные сведения о том, как подготовиться к развертыванию Службы приложений Azure в Azure Stack Hub, см. в [этой статье](azure-stack-app-service-before-you-get-started.md).
