---
title: Политики поддержки для обработчика AKS в Azure Stack Hub
description: В этой статье описаны политики поддержки для обработчика AKS в Azure Stack Hub.
author: mattbriggs
ms.topic: article
ms.date: 11/21/2019
ms.author: mabrigg
ms.reviewer: waltero
ms.lastreviewed: 11/21/2019
ms.openlocfilehash: 7320389f5b8a74b4a8964216c06c9495fe3581b4
ms.sourcegitcommit: fd5d217d3a8adeec2f04b74d4728e709a4a95790
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/29/2020
ms.locfileid: "76883515"
---
# <a name="support-policies-for-aks-engine-on-azure-stack-hub"></a>Политики поддержки для обработчика AKS в Azure Stack Hub

В этой статье описаны политики технической поддержки и ограничения для обработчика AKS в Azure Stack Hub. Также в ней предоставлены сведения об элементе Kubernetes в Marketplace, сторонних компонентах с открытым кодом и управлении безопасностью или исправлениями. 

## <a name="self-managed-kubernetes-clusters-on-azure-stack-hub-with-aks-engine"></a>Самоуправляемые кластеры Kubernetes в Azure Stack Hub с обработчиком AKS

Облачные компоненты IaaS, такие как компоненты вычислений или сети, предоставляют пользователям доступ к элементам управления и параметрам настройки на низком уровне. Обработчик AKS позволяет создавать кластеры Kubernetes, которые прозрачно используют эти компоненты IaaS. При этом пользователи могут отслеживать и изменять все характеристики развертываний.

При создании кластера клиент определяет главные и рабочие узлы Kubernetes, которые создает обработчик AKS. На этих узлах выполняются клиентские рабочие нагрузки. Клиенты сохраняют контроль за главными и рабочими узлами, то есть могут просматривать и изменять их. Непродуманные изменения узлов могут привести к потере данных и рабочих нагрузок или даже к неработоспособности кластера. Кроме того, некоторые операции обработчика AKS, например обновление и масштабирование, переопределят любые изменения вне контекста системы. Например, если в кластере есть статические группы pod, они не сохранятся после операции обновления обработчика AKS.

Так как клиентские узлы кластера выполняют частный код и хранят конфиденциальные данные, служба поддержки Майкрософт получает к ним лишь ограниченный доступ. Служба поддержки Майкрософт не может входить на узлы, выполнять команды или просматривать журналы на них без явного разрешения или содействия клиента.

## <a name="aks-engine-supported-areas"></a>Поддерживаемые области обработчика AKS

Корпорация Майкрософт предоставляет техническую поддержку по следующим аспектам:

-  Проблемы с командами обработчика AKS: развертывание, создание, обновление и масштабирование. Поведение средства должно быть таким же, как и в Azure.
-  Проблемы с кластером Kubernetes, развернутым согласно инструкциям по [работе с обработчиком AKS](azure-stack-kubernetes-aks-engine-overview.md)
-  Проблемы с подключением к другим службам Azure Stack Hub 
-  Проблемы с подключением к API Kubernetes
-  Проблемы с функциональностью поставщика Azure Stack Hub Kubernetes и подключением к Azure Resource Manager
-  Проблемы с конфигурацией AKS, созданной обработчиком AKS для собственных артефактов Azure Stack Hub, таких как подсистемы балансировки нагрузки, группы безопасности сети, виртуальные сети, подсети, сетевые интерфейсы, таблицы маршрутизации, наборы доступности, общедоступные IP-адреса, учетная запись хранения и виртуальные машины 
-  Проблемы с производительностью и задержкой в сети
-  Проблемы с базовым образом AKS, который используется обработчиком AKS в отключенных развертываниях 

## <a name="aks-engine-areas-not-supported"></a>Неподдерживаемые области обработчика AKS

Корпорация Майкрософт не предоставляет техническую поддержку по следующим аспектам:

-  Использование обработчика AKS в Azure.
-  Элемент Kubernetes для Azure Stack Hub из Marketplace.
-  Использование следующих параметров и надстроек определения кластера обработчика AKS.
    -  Неподдерживаемые надстройки:  
            — идентификатор Pod AAD;  
            — соединитель ACI;  
            — гибкий том Blobfuse;  
            — средство автомасштабирования кластера;  
            — мониторинг контейнеров;  
            — гибкий том KeyVault;  
            — подключаемый модуль устройства NVIDIA;  
            — планировщик;  
            — гибкий том SMB.  
        
    -  Неподдерживаемые параметры определения кластера:  
            — для KubernetesConfig:  
                    — cloudControllerManagerConfig;  
                    — enableDataEncryptionAtRest;  
                    — enableEncryptionWithExternalKms;  
                    — enablePodSecurityPolicy;  
                    — etcdEncryptionKey;  
                    — useInstanceMetadata;  
                    — useManagedIdentity;  
                    — azureCNIURLLinux;  
                    — azureCNIURLWindows.  
            — Для masterProfile:  
                    — availabilityZones;  
            — Для agentPoolProfiles:  
                    — availabilityZones;  
                    — singlePlacementGroup;  
                    — scaleSetPriority;  
                    — scaleSetEvictionPolicy;  
                    — acceleratedNetworkingEnabled;  
                    — acceleratedNetworkingEnabledWindows.

-  Изменения конфигурации Kubernetes, сохраненные вне хранилища конфигурации Kubernetes etcd. Например, статические pod, выполняющиеся на узлах кластера.
-  Вопросы об использовании Kubernetes. Например, служба поддержки Майкрософт не предоставляет рекомендаций о том, как создавать пользовательские контроллеры входящего трафика, использовать рабочие нагрузки приложений или применять программные пакеты или средства сторонних разработчиков или с открытым кодом.
-  Проекты сторонних разработчиков с открытым кодом, которые не входят в состав кластера Kubernetes, развернутого обработчиком AKS. Это могут быть, например, проекты Kubeadm, Kubespray, Native, Istio, Helm, Envoy и т. д.
-  Использование обработчика AKS в сценариях, не указанных в списке [поддерживаемых сценариев для обработчика AKS](azure-stack-kubernetes-aks-engine-overview.md#supported-scenarios-with-the-aks-engine).
-  Стороннее программное обеспечение. Это могут быть средства проверки безопасности, устройства или программное обеспечение для сетевого взаимодействия.
-  Проблемы с системами, объединяющими несколько облаков и несколько поставщиков. Например, корпорация Майкрософт не поддерживает решение проблем с запуском федеративного решения на основе нескольких общедоступных облаков.
-  Индивидуальные настройки сети, кроме перечисленных в разделе [Поддерживаемые области обработчика AKS](#aks-engine-supported-areas).

##  <a name="security-issues-and-patching"></a>Проблемы с безопасностью и установка исправлений

Если в одном или нескольких компонентах обработчика AKS или поставщика Kubernetes для Azure Stack Hub будет обнаружена уязвимость безопасности, корпорация Майкрософт предоставит клиентам исправление, позволяющее устранить такую уязвимость в затронутых кластерах. Возможно, группа поддержки предоставит пользователям инструкции по обновлению. Не забывайте, что установка исправлений может повлечь за собой некоторый простой кластера. Если потребуется перезагрузка, корпорация Майкрософт сообщит об этом клиентам. Если пользователи не установят исправления в соответствии с рекомендациями корпорации Майкрософт, кластер останется уязвимым к обнаруженной проблеме безопасности.

## <a name="kubernetes-marketplace-item"></a>Элемент Kubernetes в Marketplace

Пользователи могут скачать из Marketplace элемент Kubernetes, который позволяет развертывать кластеры Kubernetes с помощью обработчика AKS через шаблон на пользовательском портале Azure Stack Hub. Это проще, чем напрямую взаимодействовать с обработчиком AKS. Это полезное средство позволяет быстро настроить кластеры для демонстрации, тестирования и разработки. Оно не предназначено для рабочей среды и поэтому не входит в набор элементов, поддерживаемых корпорацией Майкрософт.

## <a name="preview-features"></a>Функции предварительной версии

Функции и компоненты, для которых требуется длительное тестирование и сбор отзывов пользователей, корпорация Майкрософт выпускает сначала в режиме предварительной версии, и их нужно отдельно включать соответствующим флагом компонента. Такие функции можно рассматривать как предварительные или бета-версии. Функции предварительной версии (с флагом компонента) не предназначены для рабочей среды. Регулярные изменения функций и поведения компонентов, исправления ошибок и другие изменения могут привести к нестабильной работе и простоям кластеров. Такие функции не поддерживаются корпорацией Майкрософт.

## <a name="next-steps"></a>Дальнейшие действия

- См. сведения об [обработчике AKS в Azure Stack Hub](azure-stack-kubernetes-aks-engine-overview.md).