---
title: Хранилище Azure Stack. Особенности и рекомендации | Документация Майкрософт
description: Сведения о различиях между хранилищем Azure Stack и службой хранилища Azure, а также рекомендации по развертыванию Azure Stack.
services: azure-stack
documentationcenter: ''
author: mattbriggs
manager: femila
ms.assetid: ''
ms.service: azure-stack
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: conceptual
ms.date: 10/2/2019
ms.author: mabrigg
ms.reviwer: xiaofmao
ms.lastreviewed: 01/30/2019
ms.openlocfilehash: e2680a91aa2b9232eb86de4338d1198fb515e6d3
ms.sourcegitcommit: 28c8567f85ea3123122f4a27d1c95e3f5cbd2c25
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/02/2019
ms.locfileid: "71824729"
---
# <a name="azure-stack-storage-differences-and-considerations"></a>Объем хранилища для Azure Stack. Отличия и рекомендации

*Область применения: интегрированные системы Azure Stack и Пакет средств разработки Azure Stack*

Хранилище Azure Stack — это набор облачных служб хранилища в Microsoft Azure Stack. Хранилище Azure Stack предоставляет согласованные с Azure функции управления большими двоичными объектами, таблицами, очередями и учетными записями.

В этой статье перечислены известные различия между хранилищем Azure Stack и службой хранилища Azure. Кроме того, статья содержит рекомендации по развертыванию Azure Stack. См. дополнительные сведения о [ключевых различиях](azure-stack-considerations.md) между глобальной средой Azure и Azure Stack.

## <a name="cheat-sheet-storage-differences"></a>Краткий справочник. Различия хранилищ

| Функция | Azure (глобальная) | Azure Stack |
| --- | --- | --- |
|Хранилище файлов|Поддерживаются облачные общие папки с файлами SMB|Еще не поддерживается
|Шифрование службы хранилища Azure для неактивных данных|256-битное шифрование AES. Поддерживается шифрование с использованием управляемых пользователем ключей в Key Vault.|128-битное шифрование AES BitLocker. Не поддерживается шифрование с использованием управляемых пользователем ключей.
|Тип учетной записи хранения|Учетные записи хранения общего назначения версий 1 и 2 и учетные записи хранения BLOB-объектов.|Только общего назначения версии 1.
|Варианты репликации|Локально избыточное хранилище, геоизбыточное хранилище, геоизбыточное хранилище с доступом для чтения и хранилище, избыточное между зонами.|Локально избыточное хранилище.
|Хранилище уровня "Премиум"|Высокопроизводительное хранилище с низким уровнем задержки. Поддерживают только страничные BLOB-объекты в учетных записях хранения уровня "Премиум".|Может быть подготовлено, но не имеет ограничений производительности или гарантий. Не блокируется при использовании блочных BLOB-объектов, добавочных BLOB-объектов, таблиц и очередей в учетных записях хранения уровня "Премиум".
|Управляемые диски|Поддерживается уровень "Премиум" и "Стандартный"|Поддерживается при использовании версии 1808 или более поздней версии.
|Имя большого двоичного объекта|1024 символов (2048 байт)|880 символов (1760 байт)
|Максимальный размер блочного BLOB-объекта|4,75 ТБ (100 МБ х 50 000 блоков)|4,75 ТБ (100 МБ x 50 000 блоков) для обновления 1802 или более новой версии. 50 000 x 4 МБ (примерно 195 ГБ) для предыдущих версий.
|Копирование моментального снимка страничного BLOB-объекта|Поддерживается архивация неуправляемых дисков виртуальных машин Azure, подключенных к запущенной виртуальной машине|Пока не поддерживается.
|Копирование добавочных моментальных снимков страничного BLOB-объекта|Поддерживаются страничные BLOB-объекты Azure уровня "Премиум" и "Стандартный"|Пока не поддерживается.
|Выставление счетов за страничные BLOB-объекты|Плата начисляется за уникальные страницы, независимо от того, где они находятся: в большом двоичном объекте или в моментальном снимке. Дополнительная плата за моментальные снимки, связанные с большим двоичным объектом, не взимается, пока большой двоичный объект, на котором они основаны, не будет обновлен.|Плата начисляется за базовый большой двоичный объект и связанные моментальные снимки. Дополнительная плата взимается за каждый отдельный моментальный снимок.
|Уровни хранилища BLOB-объектов|"Горячий", "холодный" и архивный уровни хранилища.|Пока не поддерживается.
|Обратимое удаление для хранилища BLOB-объектов|Общедоступная версия|Пока не поддерживается.
|Максимальный размер страничного BLOB-объекта|8 ТБ|1 TБ
|Размер страницы страничного BLOB-объекта|512 байт|4 КБ
|Ключ секции таблицы и размер ключа строки|1024 символов (2048 байт)|400 символов (800 байт)
|Моментальный снимок большого двоичного объекта|Максимальное число моментальных снимков одного большого двоичного объекта неограниченно.|Максимальное число моментальных снимков одного большого двоичного объекта — 1000.
|Аутентификация Azure AD для хранилища|В предварительной версии|Пока не поддерживается.
|Неизменяемые BLOB-объекты|Общедоступная версия|Пока не поддерживается.
|Правила брандмауэра и виртуальной сети для хранилища|Общедоступная версия|Пока не поддерживается.|

Кроме того, есть различия в метриках хранилища:

* Данные транзакций в метриках хранилища не различают внутреннюю или внешнюю пропускную способность сети.
* Данные транзакции в метриках хранилища не включают доступ виртуальных машин к подключенным дискам.

## <a name="api-version"></a>Версия API

Хранилище Azure Stack поддерживает следующие версии:

API-интерфейсы служб хранилища Azure.

Обновление 1811 или более новые версии:

- [2017-11-09](https://docs.microsoft.com/rest/api/storageservices/version-2017-11-09)
- [2017-07-29](https://docs.microsoft.com/rest/api/storageservices/version-2017-07-29)
- [2017-04-17](https://docs.microsoft.com/rest/api/storageservices/version-2017-04-17);
- [2016-05-31](https://docs.microsoft.com/rest/api/storageservices/version-2016-05-31);
- [2015-12-11](https://docs.microsoft.com/rest/api/storageservices/version-2015-12-11);
- [2015-07-08](https://docs.microsoft.com/rest/api/storageservices/version-2015-07-08);
- [2015-04-05](https://docs.microsoft.com/rest/api/storageservices/version-2015-04-05).

Предыдущие версии:

- [2017-04-17](https://docs.microsoft.com/rest/api/storageservices/version-2017-04-17);
- [2016-05-31](https://docs.microsoft.com/rest/api/storageservices/version-2016-05-31);
- [2015-12-11](https://docs.microsoft.com/rest/api/storageservices/version-2015-12-11);
- [2015-07-08](https://docs.microsoft.com/rest/api/storageservices/version-2015-07-08);
- [2015-04-05](https://docs.microsoft.com/rest/api/storageservices/version-2015-04-05).

API управления службами хранилища Azure:

Обновление 1811 или более новые версии:

- [01.10.2017](https://docs.microsoft.com/rest/api/storagerp/?redirectedfrom=MSDN)
- [01.06.2017](https://docs.microsoft.com/rest/api/storagerp/?redirectedfrom=MSDN)
- [01.12.2016](https://docs.microsoft.com/rest/api/storagerp/?redirectedfrom=MSDN)
- [01.05.2016](https://docs.microsoft.com/rest/api/storagerp/?redirectedfrom=MSDN)
- [2016-01-01](https://docs.microsoft.com/rest/api/storagerp/?redirectedfrom=MSDN).
- [2015-06-15](https://docs.microsoft.com/rest/api/storagerp/?redirectedfrom=MSDN);
- [2015-05-01-preview](https://docs.microsoft.com/rest/api/storagerp/?redirectedfrom=MSDN);

Предыдущие версии:

- [2016-01-01](https://docs.microsoft.com/rest/api/storagerp/?redirectedfrom=MSDN).
- [2015-06-15](https://docs.microsoft.com/rest/api/storagerp/?redirectedfrom=MSDN);
- [2015-05-01-preview](https://docs.microsoft.com/rest/api/storagerp/?redirectedfrom=MSDN);

Дополнительные сведения о поддерживаемых клиентских библиотеках службы хранилища Azure Stack см. в статье: [Начало работы со средствами разработки хранилища Azure Stack](azure-stack-storage-dev.md).

## <a name="next-steps"></a>Дополнительная информация

* [Приступая к работе со средствами разработки хранилища Azure Stack](azure-stack-storage-dev.md)
* [Использование средств передачи данных в хранилище Azure Stack](azure-stack-storage-transfer.md)
* [Общие сведения о хранилище Azure Stack](azure-stack-storage-overview.md)
