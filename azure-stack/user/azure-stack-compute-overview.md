---
title: Общие сведения о виртуальных машинах Azure Stack Hub | Документация Майкрософт
description: Из этой статьи вы узнаете о виртуальных машинах Azure Stack Hub.
services: azure-stack
author: sethmanheim
manager: femila
ms.service: azure-stack
ms.topic: conceptual
ms.date: 10/02/2019
ms.author: sethm
ms.reviewer: kivenkat
ms.lastreviewed: 01/05/2019
ms.openlocfilehash: 7a7da17dd3b9be99c797b2241ae38bd2d4e6c0d2
ms.sourcegitcommit: ce01b2cd114ca8ab5b70c6311b66c58ceb054469
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/13/2020
ms.locfileid: "75923983"
---
# <a name="introduction-to-azure-stack-hub-vms"></a>Общие сведения о виртуальных машинах Azure Stack Hub

Azure Stack Hub предлагает виртуальные машины как один из видов масштабируемых вычислительных ресурсов по требованию. Когда требуется более строгий контроль за вычислительной средой, выбирают виртуальную машину. Эта статья содержит сведения о создании первой виртуальной машины.

Виртуальная машина Azure Stack Hub предоставляет гибкие возможности виртуализации. При этом управлять кластерами или отдельными машинами не нужно. Но вам по-прежнему необходимо обслуживать виртуальную машину, выполняя разные задачи, такие как настройка и обновление, а также установка исправлений и программного обеспечения, работающего на виртуальной машине.

Виртуальные машины Azure Stack Hub можно использовать несколькими способами. Пример:

- **Разработка и тестирование**. Виртуальные машины Azure Stack Hub дают возможность создавать компьютер с определенной конфигурацией, необходимой для написания кода и тестирования приложения.

- **Приложения в облаке**. Так как уровень спроса на приложение может меняться, с экономической точки зрения разумно запускать его на виртуальной машине в Azure Stack Hub. Вы платите за дополнительные виртуальные машины, если они вам нужны, и отключаете их, если они не нужны.

- **Расширенный центр обработки данных**. Виртуальные машины в виртуальной сети Azure Stack Hub можно подключить к корпоративной сети или Azure.

При необходимости вы можете изменить масштаб виртуальных машин, используемых приложением.

## <a name="before-creating-a-vm"></a>Перед созданием виртуальной машины

При создании инфраструктуры приложения в Azure Stack Hub всегда нужно учитывать рекомендации по проектированию. Перед созданием инфраструктуры следует подумать о следующих параметрах виртуальной машины:

- имена ресурсов приложения;
- размер виртуальной машины;
- максимальное число виртуальных машин, которые можно создать;
- операционная система, под управлением которой будет работать виртуальная машина;
- конфигурация виртуальной машины после ее запуска;
- связанные ресурсы, необходимые для виртуальной машины.

### <a name="naming"></a>Именование

Виртуальной машине назначается имя. Кроме того, для нее настраивается имя компьютера как часть операционной системы. Имя виртуальной машины может содержать не более 15 символов.

Если вы создаете диск операционной системы с помощью Azure Stack Hub, имя компьютера и имя виртуальной машины совпадают. При передаче и использовании собственного образа, содержащего ранее настроенную операционную систему, а также при создании виртуальной машины с его помощью имена могут различаться. При передаче собственного файла образа рекомендуется указать одинаковые имя компьютера в операционной системе и имя виртуальной машины.

### <a name="vm-size"></a>Размер виртуальной машины

Используемый размер виртуальной машины зависит от рабочей нагрузки, которую требуется выполнить. Позже выбранный размер определяет разные факторы, например вычислительную мощность, объем памяти и хранилища. В Azure Stack Hub доступны разные размеры для разных вариантов использования.

### <a name="vm-limits"></a>Ограничения виртуальной машины

Для подписки предусмотрена квота по умолчанию, от которой зависит возможность развертывания виртуальных машин для проекта. Текущее ограничение для каждой подписки составляет 20 виртуальных машин на регион.

### <a name="operating-system-disks-and-images"></a>Диски и образы операционной системы

Для хранения операционной системы и данных виртуальные машины используют виртуальные жесткие диски. Они также используются для образов, которые доступны для установки операционной системы. Azure Stack Hub предоставляет образы Marketplace различных версий и типов операционных систем. Образы из Marketplace определяются по издателю, предложению, SKU и версии (актуальная версия обычно указывается **последней**).

В таблице ниже указано, как найти сведения об образе.

|Метод|Description|
|---------|---------|
|Портал Azure Stack Hub|При выборе используемого образа значения задаются автоматически.|
|PowerShell для Azure Stack Hub|`Get-AzureRMVMImagePublisher -Location "location"`<br>`Get-AzureRMVMImageOffer -Location "location" -Publisher "publisherName"`<br>`Get-AzureRMVMImageSku -Location "location" -Publisher "publisherName" -Offer "offerName"`|
|Интерфейсы REST API     |[Получение списка издателей образов](/rest/api/compute/platformimages/platformimages-list-publishers)<br>[Получение списка предложений для образа](/rest/api/compute/platformimages/platformimages-list-publisher-offers)<br>[Получение списка SKU для образа](/rest/api/compute/platformimages/platformimages-list-publisher-offer-skus)|

Вы можете передать и использовать собственный образ. В этом случае имя издателя, предложение и SKU не используются.

### <a name="extensions"></a>Модули

Расширения виртуальных машин предоставляют дополнительные возможности за счет настройки после развертывания и автоматизированных задач.
С помощью расширений можно выполнить такие стандартные задачи:

- **Запуск пользовательских скриптов**. Расширение пользовательских скриптов помогает настроить рабочие нагрузки на виртуальной машине, выполняя скрипт при подготовке виртуальной машины.

- **Развертывание конфигураций и управление ими**. Расширение настройки требуемого состояния (DSC) PowerShell позволяет настроить DSC на виртуальной машине для управления конфигурациями и средами.

- **Сбор данных диагностики**. Расширение системы диагностики Azure позволяет настроить виртуальную машину для сбора данных диагностики, которые можно использовать для мониторинга состояния работоспособности приложения.

### <a name="related-resources"></a>Связанные ресурсы

Ресурсы в таблице ниже используются в виртуальной машине. Они должны существовать или создаваться вместе с виртуальной машиной.

|Ресурс|Обязательно|Description|
|---------|---------|---------|
|группа ресурсов.|Да|Виртуальная машина должна входить в группу ресурсов.|
|Учетная запись хранения|нет|При использовании управляемых дисков виртуальной машине не требуется учетная запись хранения для хранения виртуальных жестких дисков. <br>При использовании неуправляемых дисков виртуальной машине требуется учетная запись хранения для хранения виртуальных жестких дисков.|
|Виртуальная сеть|Да|Виртуальная машина должна быть подключена к виртуальной сети.|
|Общедоступный IP-адрес|нет|Для удаленного доступа к виртуальной машине ей можно назначить общедоступный IP-адрес.|
|сетевому интерфейсу|Да|Для обмена данными в сети виртуальной машине нужен сетевой интерфейс.|
|Диски данных|нет|Виртуальная машина может содержать диски данных для расширения объема ресурсов хранения.|

## <a name="create-your-first-vm"></a>Создание виртуальной машины

Виртуальную машину можно создать несколькими способами. Выбор зависит от среды. В таблице ниже приведены сведения, которые помогут приступить к созданию виртуальной машины.

|Метод|Статья|
|---------|---------|
|Портал Azure Stack Hub|Создание виртуальной машины Windows с помощью портала Azure Stack Hub<br>[Создание виртуальной машины с сервером Linux с помощью портала Azure Stack Hub](azure-stack-quick-linux-portal.md)|
|Шаблоны|Шаблоны быстрого запуска Azure Stack Hub доступны в следующем расположении:<br> [https://github.com/Azure/AzureStack-QuickStart-Templates](https://aka.ms/aa6z60s)|
|PowerShell|[Создание виртуальной машины Windows Server с помощью PowerShell в Azure Stack Hub](azure-stack-quick-create-vm-windows-powershell.md)<br>[Создание виртуальной машины с сервером Linux с помощью PowerShell в Azure Stack Hub](azure-stack-quick-create-vm-linux-powershell.md)|
|CLI|[Создание виртуальной машины Windows Server с помощью Azure CLI в Azure Stack Hub](azure-stack-quick-create-vm-windows-cli.md)<br>[Создание виртуальной машины с сервером Linux с помощью Azure CLI в Azure Stack Hub](azure-stack-quick-create-vm-linux-cli.md)|

## <a name="manage-your-vm"></a>Управление виртуальной машиной

Виртуальными машинами можно управлять с помощью браузерного портала, средств командной строки с поддержкой создания скриптов или напрямую с помощью API. Некоторые стандартные задачи администрирования включают следующее:

- получение сведений о виртуальной машине;
- подключение к виртуальной машине;
- управление доступностью;
- создание резервных копий.

### <a name="get-information-about-your-vm"></a>Получение сведений о виртуальной машине

В таблице ниже представлены некоторые из способов, которыми можно получить сведения о виртуальной машине.

|Метод|Description|
|---------|---------|
|Портал Azure Stack Hub|В меню концентратора щелкните **Виртуальные машины** и выберите виртуальную машину из списка. На странице виртуальной машины доступны общие сведения, значения параметров и метрики мониторинга.|
|Azure PowerShell|Управление виртуальными машинами в Azure и Azure Stack Hub аналогично. Дополнительные сведения об использовании PowerShell см. в следующем разделе статьи Azure:<br>[Описание размеров виртуальных машин](/azure/virtual-machines/windows/tutorial-manage-vm#understand-vm-sizes).|
|Клиентские пакеты SDK|Управление виртуальными машинами в Azure и Azure Stack Hub с помощью C# аналогично. Дополнительные сведения см. в следующей статье Azure:<br>[Развертывание виртуальной машины Azure с помощью C#](/azure/virtual-machines/windows/csharp).|

### <a name="connect-to-your-vm"></a>Подключение к виртуальной машине

Чтобы подключиться к своей виртуальной машине, нажмите кнопку **Подключение** на портале Azure Stack Hub.

## <a name="next-steps"></a>Дальнейшие действия

- [Рекомендации по использованию виртуальных машин в Azure Stack Hub](azure-stack-vm-considerations.md)
