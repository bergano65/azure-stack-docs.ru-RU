---
title: Общие сведения о виртуальных машинах Azure Stack | Документация Майкрософт
description: Из этой статьи вы узнаете о виртуальных машинах Azure Stack.
services: azure-stack
author: sethmanheim
manager: femila
ms.service: azure-stack
ms.topic: conceptual
ms.date: 10/02/2019
ms.author: sethm
ms.reviewer: kivenkat
ms.lastreviewed: 01/05/2019
ms.openlocfilehash: de96b74351fa3becd0b066da4430e42cb2a9cea7
ms.sourcegitcommit: b2d19e12a50195bb8925879ee75c186c9604f313
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/04/2019
ms.locfileid: "71961677"
---
# <a name="introduction-to-azure-stack-vms"></a>Общие сведения о виртуальных машинах Azure Stack

*Область применения: интегрированные системы Azure Stack и Пакет средств разработки Azure Stack*

Azure Stack предлагает виртуальные машины как один из видов масштабируемых вычислительных ресурсов по требованию. Когда требуется более строгий контроль за вычислительной средой, выбирают виртуальную машину. Эта статья содержит сведения о создании первой виртуальной машины.

Виртуальная машина Azure Stack предоставляет гибкие возможности виртуализации. При этом управлять кластерами или отдельными машинами не нужно. Но вам по-прежнему необходимо обслуживать виртуальную машину, выполняя разные задачи, такие как настройка и обновление, а также установка исправлений и программного обеспечения, работающего на виртуальной машине.

Виртуальные машины Azure Stack можно использовать несколькими способами. Например:

- **Разработка и тестирование**. Виртуальные машины Azure Stack дают возможность создавать компьютер с определенной конфигурацией, необходимой для написания кода и тестирования приложения.

- **Приложения в облаке**. Так как уровень спроса на приложение может меняться, с экономической точки зрения разумно запускать его на виртуальной машине в Azure Stack. Вы платите за дополнительные виртуальные машины, если они вам нужны, и отключаете их, если они не нужны.

- **Расширенный центр обработки данных**. Виртуальные машины в виртуальной сети Azure Stack можно подключить к корпоративной сети или Azure.

При необходимости вы можете изменить масштаб виртуальных машин, используемых приложением.

## <a name="before-creating-a-vm"></a>Перед созданием виртуальной машины

При создании инфраструктуры приложения в Azure Stack всегда нужно учитывать рекомендации по проектированию. Перед созданием инфраструктуры следует подумать о следующих параметрах виртуальной машины:

- имена ресурсов приложения;
- размер виртуальной машины;
- максимальное число виртуальных машин, которые можно создать;
- операционная система, под управлением которой будет работать виртуальная машина;
- конфигурация виртуальной машины после ее запуска;
- связанные ресурсы, необходимые для виртуальной машины.

### <a name="naming"></a>Именование

Виртуальной машине назначается имя. Кроме того, для нее настраивается имя компьютера как часть операционной системы. Имя виртуальной машины может содержать не более 15 символов.

Если вы создаете диск операционной системы с помощью Azure Stack, имя компьютера и имя виртуальной машины совпадают. При передаче и использовании собственного образа, содержащего ранее настроенную операционную систему, а также при создании виртуальной машины с его помощью имена могут различаться. При передаче собственного файла образа рекомендуется указать одинаковые имя компьютера в операционной системе и имя виртуальной машины.

### <a name="vm-size"></a>Размер виртуальной машины

Используемый размер виртуальной машины зависит от рабочей нагрузки, которую требуется выполнить. Позже выбранный размер определяет разные факторы, например вычислительную мощность, объем памяти и хранилища. В Azure Stack доступны разные размеры для разных вариантов использования.

### <a name="vm-limits"></a>Ограничения виртуальной машины

Для подписки предусмотрена квота по умолчанию, от которой зависит возможность развертывания виртуальных машин для проекта. Текущее ограничение для каждой подписки составляет 20 виртуальных машин на регион.

### <a name="operating-system-disks-and-images"></a>Диски и образы операционной системы

Для хранения операционной системы и данных виртуальные машины используют виртуальные жесткие диски. Они также используются для образов, которые доступны для установки операционной системы. Azure Stack предоставляет образы Marketplace различных версий и типов операционных систем. Образы из Marketplace определяются по издателю, предложению, SKU и версии (актуальная версия обычно указывается **последней**).

В таблице ниже указано, как найти сведения об образе.

|Метод|ОПИСАНИЕ|
|---------|---------|
|Портал Azure Stack|При выборе используемого образа значения задаются автоматически.|
|PowerShell для Azure Stack|`Get-AzureRMVMImagePublisher -Location "location"`<br>`Get-AzureRMVMImageOffer -Location "location" -Publisher "publisherName"`<br>`Get-AzureRMVMImageSku -Location "location" -Publisher "publisherName" -Offer "offerName"`|
|Интерфейсы REST API     |[Получение списка издателей образов](/rest/api/compute/platformimages/platformimages-list-publishers)<br>[Получение списка предложений для образа](/rest/api/compute/platformimages/platformimages-list-publisher-offers)<br>[Получение списка SKU для образа](/rest/api/compute/platformimages/platformimages-list-publisher-offer-skus)|

Вы можете передать и использовать собственный образ. В этом случае имя издателя, предложение и SKU не используются.

### <a name="extensions"></a>расширения.

Расширения виртуальных машин предоставляют дополнительные возможности за счет настройки после развертывания и автоматизированных задач.
С помощью расширений можно выполнить такие стандартные задачи:

- **Запуск пользовательских скриптов**. Расширение пользовательских скриптов помогает настроить рабочие нагрузки на виртуальной машине, выполняя скрипт при подготовке виртуальной машины.

- **Развертывание конфигураций и управление ими**. Расширение настройки требуемого состояния (DSC) PowerShell позволяет настроить DSC на виртуальной машине для управления конфигурациями и средами.

- **Сбор данных диагностики**. Расширение системы диагностики Azure позволяет настроить виртуальную машину для сбора данных диагностики, которые можно использовать для мониторинга состояния работоспособности приложения.

### <a name="related-resources"></a>Связанные ресурсы

Ресурсы в таблице ниже используются в виртуальной машине. Они должны существовать или создаваться вместе с виртуальной машиной.

|Ресурс|Обязательно|ОПИСАНИЕ|
|---------|---------|---------|
|группа ресурсов.|Yes|Виртуальная машина должна входить в группу ресурсов.|
|Учетная запись хранения|Нет|При использовании управляемых дисков виртуальной машине не требуется учетная запись хранения для хранения виртуальных жестких дисков. <br>При использовании неуправляемых дисков виртуальной машине требуется учетная запись хранения для хранения виртуальных жестких дисков.|
|Виртуальная сеть|Yes|Виртуальная машина должна быть подключена к виртуальной сети.|
|Общедоступный IP-адрес|Нет|Для удаленного доступа к виртуальной машине ей можно назначить общедоступный IP-адрес.|
|сетевому интерфейсу|Yes|Для обмена данными в сети виртуальной машине нужен сетевой интерфейс.|
|Диски данных|Нет|Виртуальная машина может содержать диски данных для расширения объема ресурсов хранения.|

## <a name="create-your-first-vm"></a>Создание виртуальной машины

Виртуальную машину можно создать несколькими способами. Выбор зависит от среды. В таблице ниже приведены сведения, которые помогут приступить к созданию виртуальной машины.

|Метод|Статья|
|---------|---------|
|Портал Azure Stack|Создание виртуальной машины Windows с помощью портала Azure Stack<br>[Создание виртуальной машины Linux с помощью портала Azure Stack](azure-stack-quick-linux-portal.md)|
|Шаблоны|Шаблоны быстрого запуска Azure Stack доступны в следующем расположении:<br> [https://github.com/Azure/AzureStack-QuickStart-Templates](https://github.com/Azure/AzureStack-QuickStarvirtualt-Templates)|
|PowerShell|[Создание виртуальной машины Windows с помощью PowerShell в Azure Stack](azure-stack-quick-create-vm-windows-powershell.md)<br>[Создание виртуальной машины Linux с помощью PowerShell в Azure Stack](azure-stack-quick-create-vm-linux-powershell.md)|
|CLI|[Создание виртуальной машины Windows с помощью CLI в Azure Stack](azure-stack-quick-create-vm-windows-cli.md)<br>[Создание виртуальной машины Linux с помощью CLI в Azure Stack](azure-stack-quick-create-vm-linux-cli.md)|

## <a name="manage-your-vm"></a>Управление виртуальной машиной

Виртуальными машинами можно управлять с помощью браузерного портала, средств командной строки с поддержкой создания скриптов или напрямую с помощью API. Некоторые стандартные задачи администрирования включают следующее:

- получение сведений о виртуальной машине;
- подключение к виртуальной машине;
- управление доступностью;
- создание резервных копий.

### <a name="get-information-about-your-vm"></a>Получение сведений о виртуальной машине

В таблице ниже представлены некоторые из способов, которыми можно получить сведения о виртуальной машине.

|Метод|ОПИСАНИЕ|
|---------|---------|
|Портал Azure Stack|В меню концентратора щелкните **Виртуальные машины** и выберите виртуальную машину из списка. На странице виртуальной машины доступны общие сведения, значения параметров и метрики мониторинга.|
|Azure PowerShell|Управление виртуальными машинами в Azure и Azure Stack аналогично. Дополнительные сведения об использовании PowerShell см. в следующем разделе статьи Azure:<br>[Описание размеров виртуальных машин](/azure/virtual-machines/windows/tutorial-manage-vm#understand-vm-sizes).|
|Клиентские пакеты SDK|Управление виртуальными машинами в Azure и Azure Stack с помощью C# аналогично. Дополнительные сведения см. в следующей статье Azure:<br>[Развертывание виртуальной машины Azure с помощью C#](/azure/virtual-machines/windows/csharp).|

### <a name="connect-to-your-vm"></a>Подключение к виртуальной машине

Чтобы подключиться к своей виртуальной машине, нажмите кнопку **Подключение** на портале Azure Stack.

## <a name="next-steps"></a>Дополнительная информация

- [Рекомендации по использованию виртуальных машин в Azure Stack](azure-stack-vm-considerations.md)
